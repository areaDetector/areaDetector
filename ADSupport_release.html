<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ADSupport Releases &mdash; areaDetector Support</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme_overrides.css?v=254ed751" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="areaDetector License" href="license.html" />
    <link rel="prev" title="ADCore Releases" href="ADCore_release.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            areaDetector
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">Readme</a></li>
<li class="toctree-l1"><a class="reference internal" href="user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="install_guide.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Top-level Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="ADCore_release.html">ADCore Release Notes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ADSupport Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-10-may-26-2021"><strong>R1-10 (May 26, 2021)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-9-1-march-26-2021"><strong>R1-9-1 (March 26, 2021)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-9-august-8-2019"><strong>R1-9 (August 8, 2019)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-8-may-24-2019"><strong>R1-8 (May 24, 2019)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-7-april-12-2019"><strong>R1-7 (April 12, 2019)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-6-december-3-2018"><strong>R1-6 (December 3, 2018)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-5-november-12-2018"><strong>R1-5 (November 12, 2018)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-4-january-27-2018"><strong>R1-4 (January 27, 2018)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-3-july-3-2017"><strong>R1-3 (July 3, 2017)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-2-may-5-2017"><strong>R1-2 (May 5, 2017)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-1-february-19-2017"><strong>R1-1 (February 19, 2017)</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="#r1-0-october-28-2016"><strong>R1-0 (October 28, 2016)</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="doxygen.html">Source Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="detectors.html">Supported Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="legacy_versions.html">Legacy Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">areaDetector</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ADSupport Releases</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/ADSupport_release.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="adsupport-releases">
<h1>ADSupport Releases<a class="headerlink" href="#adsupport-releases" title="Link to this heading"></a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>The latest untagged master branch can be obtained at
<a class="reference external" href="https://github.com/areaDetector/ADSupport">https://github.com/areaDetector/ADSupport</a>.</p>
<p>The versions of EPICS base, asyn, and other synApps modules used for each release can be obtained from
the EXAMPLE_RELEASE_PATHS.local, EXAMPLE_RELEASE_LIBS.local, and EXAMPLE_RELEASE_PRODS.local
files respectively, in the configure/ directory of the appropriate release of the
<a class="reference external" href="https://github.com/areaDetector/areaDetector">top-level areaDetector</a> repository.</p>
</section>
<section id="r1-10-may-26-2021">
<h2><strong>R1-10 (May 26, 2021)</strong><a class="headerlink" href="#r1-10-may-26-2021" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Changed the support for reading MJPEG streams in GraphicsMagickSrc and xml2Src.
In R1-5 nanohttp.c and nanohppt.h in xml2Src were changed to support MJPEG streams.
This had the undesired side-effect of being incompatible with the standard version
of libxml2, and thus it no longer worked to use XML2_EXTERNAL=YES and WITH_GRAPHICSMAGICK=YES.
This was fixed by moving the functions for MJPEG streams into new files
nanohttp_stream.c and nanohttp_stream.h.
These files are used to build a new library, nanohttp_stream.
nanohhtp.c and nanohttp.h were reverted to their original versions.</p></li>
<li><p>Changed GraphicsMagickSrc/coders/url.c to use these new functions and the new library
for MJPEG streaming.</p></li>
<li><p>This release now works with XML2_EXTERNAL=YES and WITH_GRAPHICSMAGICK=YES.</p></li>
</ul>
</section>
<section id="r1-9-1-march-26-2021">
<h2><strong>R1-9-1 (March 26, 2021)</strong><a class="headerlink" href="#r1-9-1-march-26-2021" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Fixed compilation errors with EPICS base 7.0.5 which changed the use of undefined functions
from being a warning to being an error.  There were a few files in GraphicsMagick that were missing
the required header files.  There was also one file in the HDF5 support for vxWorks with this problem.</p></li>
</ul>
</section>
<section id="r1-9-august-8-2019">
<h2><strong>R1-9 (August 8, 2019)</strong><a class="headerlink" href="#r1-9-august-8-2019" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Fixed memory allocation functions used in the blosc, lz4, bslz4, and JPEG HDF5 filters.
In R1-8 it was consistently using H5allocate_memory() and H5free_memory, rather than malloc() and free().
This prevented crashes when the compressors were called by NDFileHDF5.
However, it did not work with third-party applications built with HDF5 1.8.11 through 1.8.14 because
H5allocate_memory() and H5free_memory were added in 1.8.15.
This was a problem for Matlab, which currently uses 1.8.12.
The HDF5 Group also said that we should be using malloc() and free().
We determined that the reason for the access violation in the compressors when using malloc() and free()
was because we were building on Linux with the macro H5_MEMORY_ALLOC_SANITY_CHECK defined.
For some reason if that is defined then calling free() on an array allocated by the HDF5 library
causes an access violation.
Changed the code not to define that macro and used malloc() and free() everywhere.
It now works both on Matlab and in the NDFileHDF5 compressors.</p></li>
</ul>
</section>
<section id="r1-8-may-24-2019">
<h2><strong>R1-8 (May 24, 2019)</strong><a class="headerlink" href="#r1-8-may-24-2019" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added HDF5 filter and dynamically loaded filter plugin for JPEG.</p></li>
<li><p>Fixed memory allocation functions used in blosc and lz4 HDF5 filters.</p></li>
<li><p>Fixed problem with hdf5PluginSrc/Makefile, only build plugins if SHAREABLE_LIBRARIES=YES.</p></li>
</ul>
</section>
<section id="r1-7-april-12-2019">
<h2><strong>R1-7 (April 12, 2019)</strong><a class="headerlink" href="#r1-7-april-12-2019" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added bitshuffle, which includes lz4.
This is used by ADEiger to read streams that are compressed with bitshuffle/lz4.</p></li>
<li><p>Builds the HDF5 filter for bitshuffle/lz4 (without Blosc) which can be useful for writing and reading HDF5 files
with this compression, including those written by the Eiger server.</p></li>
<li><p>Builds the HDF5 filter for lz4 (without bitshuffle or Blosc) which can be useful for writing and reading HDF5 files
with this compression, including those written by the Eiger server.</p></li>
<li><p>Builds dynamically loaded filter plugins for Blosc, Bitshuffle/lz4, and lz4.  These are built for Linux, Windows and Mac.
These plugins can be used with any HDF5 program using HDF5 1.8.11 or later to read files compressed with these filters.</p></li>
<li><p>Moved the CBF file support code from ADPilatus/pilatusApp/cbfSrc to supportApp/cbfSrc.
This allows other detectors, such as ADMMPAD to use it as well.</p></li>
<li><p>Fixed warnings about redefinition of LOCAL on vxWorks.</p></li>
<li><p>Fixed problem building decompressJPEG in jpegSrc if JPEG_EXTERNAL=YES.</p></li>
<li><p>Fixes for Darwin builds of GraphicsMagick and netCDF.</p></li>
</ul>
</section>
<section id="r1-6-december-3-2018">
<h2><strong>R1-6 (December 3, 2018)</strong><a class="headerlink" href="#r1-6-december-3-2018" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added a new library, decompressJPEG. This contains a small C function to do all of the calls to libjpeg
to decompress a JPEG encoded buffer.  It is intended to be called from Java for the ImageJ EPICS_NTNDA_Viewer.
It could also be called from other languages.</p></li>
<li><p>Fixed a minor problem with netCDFSrc/libdispatch/dauth.c</p></li>
<li><p>Fixes to netCDFSrc to work with vxWorks 5.5, 6.8, and 6.9.</p></li>
</ul>
</section>
<section id="r1-5-november-12-2018">
<h2><strong>R1-5 (November 12, 2018)</strong><a class="headerlink" href="#r1-5-november-12-2018" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added support for reading MJPEG streams to GraphicsMagickSrc and xml2Src.  This allows ADURL to stream
data from Web cameras. Thanks to Peter Heesterman for this.</p></li>
<li><p>Updated netCDFSrc from netCDF 4.1.3 to 4.6.1.  Updated netCDFSrc/README.epics to document how this was done.</p></li>
<li><p>Fixed a problem when closing netCDF files &gt; 2 GB on Windows when building with Visual Studio 2015 or 2017.</p></li>
</ul>
</section>
<section id="r1-4-january-27-2018">
<h2><strong>R1-4 (January 27, 2018)</strong><a class="headerlink" href="#r1-4-january-27-2018" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added support for Blosc filter library.  This is used by NDFileHDF5.  Thanks to Xiaoqiang Wang for this.</p></li>
<li><p>Fixed a bug in GraphicsMagickSrc.  We had changed Magick++/lib/Image.cpp to call UnregisterStaticModules in
a cleanup destructor.  The problem was that this destructor is always called, even if GraphicsMagick has not
ever been initialized.  That will happen if an application is built with GraphicsMagick but NDFileMagick is
not loaded in the startup script.  The symptom was an assertion failure when exiting the IOC.  This occurred
on both Linux and Windows.  Fixed the problem by ensuring that UnregisterStaticModules is not called if
GraphicsMagick has not been initialized.</p></li>
<li><p>Fixes to Makefiles in GraphicsMagickSrc to allow it to be built with external libraries
for jpeg, tiff, xml2, and zlib.</p></li>
<li><p>Fixed Darwin support in tiffSrc.</p></li>
<li><p>Fixed several problems on vxWorks.</p>
<ul>
<li><p>xml2Src was previously not compiling nanohttp.c and nanoftp.c.
This led to undefined symbols when booting vxWorks, because xmlIO.c references these functions.
The correct fix is not to define LIBXML_HTTP_ENABLED and LIBXML_FTP_ENABLED on vxWorks.
This change was made to xml2Src/os/default/libxml/xmlversion.h, and the Makefile was changed to
compile nanohttp.c and nanoftp.c on all architectures.</p></li>
<li><p>tiffSrc/os/vxWorks/tif_config.h was defining HAVE_MMAP on vxWorks 6.x. This was incorrect,
vxWorks 6.x does not generally have mmap, so now HAVE_MMAP is never defined on vxWorks.</p></li>
<li><p>Fixed missing functions which showed up only when booting vxWorks, not when linking.
Added definitions of nanosleep(), llround(), llroundf(), lround(), lroundf(), round(), and roundf()
to hdf5Src/H5vxWorks.c.  These were taken almost directly from the WIN32 functions in H5system.c.
Added powf() which just calls pow().</p></li>
</ul>
</li>
<li><p>Fixed .gitignore file.  It was previously ignoring all include/ directories, but those in GraphicsMagick
should not be ignored.</p></li>
</ul>
</section>
<section id="r1-3-july-3-2017">
<h2><strong>R1-3 (July 3, 2017)</strong><a class="headerlink" href="#r1-3-july-3-2017" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Added support for GraphicsMagick.  It is based on GraphicsMagick version 1.3.25.
This support is used by NDFileMagick in ADCore and by the ADURL driver.
This has been tested on Windows and Linux.  It is disabled for vxWorks.<span class="raw-html-m2r"><br></span>
Thanks to Peter Heesterman for doing this.</p></li>
<li><p>Modified xml2Src to enable building nanoftp.c and nanohttp.c which are used for transferring files
in GraphicsMagick.</p></li>
<li><p>Added support for the HDF5 hl (high-level) library.  This is in a new hdf5_hlSrc directory.</p></li>
</ul>
</section>
<section id="r1-2-may-5-2017">
<h2><strong>R1-2 (May 5, 2017)</strong><a class="headerlink" href="#r1-2-may-5-2017" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Updated HDF5 to 1.10.1 which was officially released on May 1, 2017.<span class="raw-html-m2r"><br></span>
This release fixes the SWMR problems and adds some new performance features.</p></li>
<li><p>Updated Nexus to release 4.4.3.  This fixes some problems on 64-bit systems.</p></li>
<li><p>Modified XML2 so it will build on vxWorks 5.5.  ADCore previously contained and used TinyXml,
but now requires libxml2, so it needs to build on all platforms.</p></li>
</ul>
</section>
<section id="r1-1-february-19-2017">
<h2><strong>R1-1 (February 19, 2017)</strong><a class="headerlink" href="#r1-1-february-19-2017" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Fixed a problem with XML2 on vxWorks.  xml2Src/os/vxWorks/config.h was previously defining HAVE_ZLIB_H.
However, on vxWorks we do have zlib.h, but xmlIO.c requires the dup() function to use zlib, and vxWorks
does not have dup(), at least not in 6.9.4.  Fix is not to define HAVE_ZLIB_H.</p></li>
<li><p>The HDF5 Group has not yet released 1.10.1, and is now estimating sometime after March 1, 2017.<span class="raw-html-m2r"><br></span>
ADSupport thus still has 2 branches as discussed in the R1-0 release notes below.</p></li>
</ul>
</section>
<section id="r1-0-october-28-2016">
<h2><strong>R1-0 (October 28, 2016)</strong><a class="headerlink" href="#r1-0-october-28-2016" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Initial release.  The versions of each support library are:</p></li>
</ul>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Library</p></th>
<th class="head"><p>Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HDF5</p></td>
<td><p>1.10.0-patch1 (see below)</p></td>
</tr>
<tr class="row-odd"><td><p>JPEG</p></td>
<td><p>9b</p></td>
</tr>
<tr class="row-even"><td><p>netCDF</p></td>
<td><p>4.1.3</p></td>
</tr>
<tr class="row-odd"><td><p>NeXus</p></td>
<td><p>4.3.1</p></td>
</tr>
<tr class="row-even"><td><p>SZIP</p></td>
<td><p>2.1</p></td>
</tr>
<tr class="row-odd"><td><p>TIFF</p></td>
<td><p>4.0.6</p></td>
</tr>
<tr class="row-even"><td><p>XML2</p></td>
<td><p>2.9.4</p></td>
</tr>
<tr class="row-odd"><td><p>ZLIB</p></td>
<td><p>1.2.8</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>For HDF5 we discovered shortly before releasing ADSupport R1-0 and ADCore R2-5 that the
Single Writer Multiple Reader (SWMR) support in HDF5 1.10.0-patch1 was broken.
It can return errors if any of the datasets are of type H5_C_S1 (fixed length strings).
We were able to reproduce the errors with a simple C program, and sent that to the HDF Group.
They quickly produced a new unreleased version of HDF5 called 1.10-swmr-fixes that fixed the problem.</p></li>
<li><p>The HDF5 Group plans to release 1.10.1, hopefully before the end of 2016.  That should be
the first official release that will correctly support SWMR.</p></li>
<li><p>As of the R1-0 release ADSupport contains 2 branches.</p>
<ul>
<li><p>master contains the HDF5 1.10.0-patch1 release from the HDF5 Group with only the minor changes
required to build with the EPICS build system, and to work on vxWorks and mingw.
These changes are documented in README.epics.  This version should not be used with SWMR
support enabled because of the known problems described above.</p></li>
<li><p>swmr-fixes contains the 1.10-swmr-fixes code that the HDF Group provided.
We had to make some changes to this code to get it to work on Windows.
It is not an official release, but does appear to correctly support SWMR.
Users who would like to begin to use SWMR before HDF5 1.10.1 is released can use
this branch, but must be aware that it is not officially supported.</p></li>
</ul>
</li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ADCore_release.html" class="btn btn-neutral float-left" title="ADCore Releases" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="license.html" class="btn btn-neutral float-right" title="areaDetector License" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mark Rivers.
      <span class="lastupdated">Last updated on 2024-April-14.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>