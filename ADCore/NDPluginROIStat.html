<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NDPluginROIStat &mdash; areaDetector Support</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_overrides.css?v=254ed751" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="NDPluginScatter" href="NDPluginScatter.html" />
    <link rel="prev" title="NDPluginROI" href="NDPluginROI.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            areaDetector
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Readme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="arch.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="asynPortDriver.html">asynPortDriver</a></li>
<li class="toctree-l2"><a class="reference internal" href="NDArray.html">NDArray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detector_drivers.html">Detector Drivers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="plugins.html">areaDetector Plugins</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plugin_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginDriver.html">NDPluginDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_guidelines.html">Guidelines and rules for plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_medm.html">Base class medm screens</a></li>
<li class="toctree-l3"><a class="reference internal" href="common_plugins.html">commonPlugins.cmd</a></li>
<li class="toctree-l3"><a class="reference internal" href="plugin_performance.html">Performance example</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginAttrPlot.html">NDPluginAttrPlot</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginAttribute.html">NDPluginAttribute</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginBadPixel.html">NDPluginBadPixel</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginCircularBuff.html">NDPluginCircularBuff</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginCodec.html">NDPluginCodec</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginColorConvert.html">NDPluginColorConvert</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginFFT.html">NDPluginFFT</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginFile.html">NDPluginFile</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginGather.html">NDPluginGather</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginOverlay.html">NDPluginOverlay</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginProcess.html">NDPluginProcess</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginPva.html">NDPluginPva</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginROI.html">NDPluginROI</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">NDPluginROIStat</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#screen-shots">Screen shots</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginScatter.html">NDPluginScatter</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginStats.html">NDPluginStats</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginStdArrays.html">NDPluginStdArrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginTimeSeries.html">NDPluginTimeSeries</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginTransform.html">NDPluginTransform</a></li>
<li class="toctree-l3"><a class="reference internal" href="NDPluginPos.html">NDPosPlugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="ffmpegServer.html">ffmpegServer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../additional_plugins.html">Additional plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="medm.html">MEDM screens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADViewers/ad_viewers.html">areaDetector Viewers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../acknowledgements.html">Acknowledgements and licenses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install_guide.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Top-level Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ADCore_release.html">ADCore Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ADSupport_release.html">ADSupport Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doxygen.html">Source Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../detectors.html">Supported Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legacy_versions.html">Legacy Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">areaDetector</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../user_guide.html">areaDetector Users Guide</a></li>
          <li class="breadcrumb-item"><a href="plugins.html">areaDetector Plugins</a></li>
      <li class="breadcrumb-item active">NDPluginROIStat</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ADCore/NDPluginROIStat.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ndpluginroistat">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">NDPluginROIStat</a><a class="headerlink" href="#ndpluginroistat" title="Link to this heading"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Matt Pearson, Mark Rivers</p>
</dd>
<dt class="field-even">affiliation<span class="colon">:</span></dt>
<dd class="field-even"><p>Oak Ridge National Lab, University of Chicago</p>
</dd>
</dl>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#ndpluginroistat" id="id1">NDPluginROIStat</a></p>
<ul>
<li><p><a class="reference internal" href="#overview" id="id2">Overview</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id3">Configuration</a></p></li>
<li><p><a class="reference internal" href="#screen-shots" id="id4">Screen shots</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="overview">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Overview</a><a class="headerlink" href="#overview" title="Link to this heading"></a></h2>
<p>This plugin provides multiple regions-of-interest (ROIs) on 1-D and 2-D
data and calculates basic statistics (min, max, mean, total, and net
counts). It also can accumulate time-series arrays of these statistics.
The asyn address parameter is used to identify the ROIs, and so a large
number of ROIs can be dealt with in a single thread. The purpose of this
plugin is to make it easy for IOC application developers to do simple
ROI calculations, without having to use multiple traditional ROI and
separate statistics plugins. The plugin can optionally do callbacks on
an NDArray object, appending an attribute list. This makes it possible
to append the ROI statistic data to the output NDArray.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This plugin only supports 1-D and 2-D arrays. The NDPluginStats plugin
can compute statistics on N-dimensional arrays, but it is less efficient
for these simple statistics on 1-D and 2-D arrays.</p>
</div>
<p>Three database template files are provided:</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Template File Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NDROIStat.template</span></code></p></td>
<td><p>This needs to be instantiated once for each instance of the plugin.
It provides records that
It provides records that apply to the entire plugin or to all ROIs.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NDROIStatN.template</span></code></p></td>
<td><p>This needs to be instantiated once for each ROI in the plugin
(the number must equal the number of ROIs specified in the IOC shell function).
The template provides records that apply to each ROI.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NDROIStat8.template</span></code></p></td>
<td><p>This is provided as a convenience.
It instantiates 8 ROIs by including <code class="docutils literal notranslate"><span class="pre">NDROIStat.template</span></code> once
and <code class="docutils literal notranslate"><span class="pre">NDROIStatN.template</span></code> 8 times.</p></td>
</tr>
</tbody>
</table>
<p><cite>NDPluginROIStat</cite> inherits from <cite>NDPluginDriver</cite>.</p>
<p><cite>NDPluginROIStat</cite> defines the following parameters. It also implements all
of the standard plugin parameters from
<a class="reference internal" href="NDPluginDriver.html"><span class="doc">NDPluginDriver</span></a>. The template files
listed above provide access to these parameters, listed in the following
tables.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 70.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head" colspan="6"><p>Parameter Definitions in NDPluginROIStat.h and EPICS Record Definitions in NDROIStat.template</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Parameter index variable</p></th>
<th class="head"><p>asyn interface</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>drvInfo string</p></th>
<th class="head"><p>EPICS record name</p></th>
<th class="head"><p>EPICS record type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>NDPluginROIStatResetAll</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Reset the statistics data for all the configured ROIs.</p></td>
<td><p>ROISTAT_RESETALL</p></td>
<td><p>$(P)$(R)ResetAll</p></td>
<td><p>bo</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td colspan="5"><p><strong>Time-Series data</strong></p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStat, TSControl</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Controls time-series data collection. The enum choices are: <br>
<strong>Erase/Start</strong>: Clears all time-series arrays, sets ROISTAT_TS_CURRENT_POINT=0, and
starts time-series data collection. <br>
<strong>Start</strong>: Starts time-series data collection without clearing arrays or modifying
ROISTAT_TS_CURRENT_POINT. Used to restart collection after a Stop operation. <br>
<strong>Stop</strong>: Stops times-series data collection. Performs callbacks on all time-series
waveform records. <br>
<strong>Read</strong>: Performs callbacks on all time-series waveform records, updating the values.</p></td>
<td><p>ROISTAT_TS_CONTROL</p></td>
<td><p>$(P)$(R)TSControl</p></td>
<td><p>mbbo</p></td>
</tr>
<tr class="row-even"><td><p>N.A.</p></td>
<td><p>N.A.</p></td>
<td><p>r/w</p></td>
<td><p>Sends the “Read” command to the TSControl record above. This record can be periodically
processed to update the time-series waveform records. It is scan disabled if TSAcquiring=Done,
so that updates are only performed when time-series acquisition is in progress.</p></td>
<td><p>N.A.</p></td>
<td><p>$(P)$(R)TSRead</p></td>
<td><p>longout</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStat, TSNumPoints</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Controls the number of time-series points to collect. There is no maximum value,
the time-series arrays in the plugin are freed and reallocated each time this value
is changed. However, the size of the waveform records is fixed when the IOC is started,
so NELM in those records must be large enough for the largest time-series needed.</p></td>
<td><p>ROISTAT_TS_NUM_POINTS</p></td>
<td><p>$(P)$(R)TSNumPoints</p></td>
<td><p>longout</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStat, TSCurrentPoint</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The current time-series point. If TSCurrentPoint reaches TSNumPoints then time-series
acquisition is automatically stopped, and callbacks are done on all time-series
waveform records, updating the values. This means that even if TSRead has SCAN=Passive
that the waveform records will update when time-series acquisition is complete.</p></td>
<td><p>ROISTAT_TS_CURRENT_POINT</p></td>
<td><p>$(P)$(R)TSCurrentPoint</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStat, TSAcquiring</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>Indicates status of time-series data acquisition. Values are 0=Done and 1=Acquiring.</p></td>
<td><p>ROISTAT_TS_ACQUIRING</p></td>
<td><p>$(P)$(R)TSAcquiring</p></td>
<td><p>bi</p></td>
</tr>
</tbody>
</table>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 70.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head"></th>
<th class="head" colspan="5"><p>ROI Specific Parameters</p></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head" colspan="6"><p>Parameter Definitions in NDPluginROIStat.h and EPICS Record Definitions in NDROIStatN.template</p></th>
</tr>
<tr class="row-odd"><th class="head"><p>Parameter index variable</p></th>
<th class="head"><p>asyn interface</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>drvInfo string</p></th>
<th class="head"><p>EPICS record name</p></th>
<th class="head"><p>EPICS record type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>NDPluginROIStatName</p></td>
<td><p>asynOctet</p></td>
<td><p>r/w</p></td>
<td><p>The name of the plugin.</p></td>
<td><p>ROISTAT_NAME</p></td>
<td><p>$(P)$(R)Name, $(P)$(R)Name_RBV</p></td>
<td><p>stringout</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatUse</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Set this to 1 to use this ROI, which will mean the statistics will be calculated
for this ROI.</p></td>
<td><p>ROISTAT_USE</p></td>
<td><p>$(P)$(R)Use, $(P)$(R)Use_RBV</p></td>
<td><p>bo, bi</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatReset</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Reset the statistics data for this ROI.</p></td>
<td><p>ROISTAT_RESET</p></td>
<td><p>$(P)$(R)Reset</p></td>
<td><p>bo</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatBgdWidth</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The background width for the net counts calculation. The average background counts
in a border of this width around the ROI are computed. The border begins at the
outer edge of the defined ROI and progresses inward by the BgdWidth.</p></td>
<td><p>ROISTAT_BGD_WIDTH</p></td>
<td><p>$(P)$(R)BgdWidth, $(P)$(R)BgdWidth_RBV</p></td>
<td><p>longout
, longin</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatDim0Min</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Start element in the X dimension.</p></td>
<td><p>ROISTAT_DIM0_MIN</p></td>
<td><p>$(P)$(R)MinX, $(P)$(R)MinX_RBV</p></td>
<td><p>longout, longin</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatDim0Size</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The ROI size in the X dimension.</p></td>
<td><p>ROISTAT_DIM0_SIZE</p></td>
<td><p>$(P)$(R)SizeX, $(P)$(R)SizeX_RBV</p></td>
<td><p>longout, longin</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatDim0MaxSize</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>Max size of the ROI in the X dimension.</p></td>
<td><p>ROISTAT_DIM0_MAX_SIZE</p></td>
<td><p>$(P)$(R)MaxSizeX, $(P)$(R)MaxSizeX_RBV</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatDim1Min</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Start element in the Y dimension.</p></td>
<td><p>ROISTAT_DIM1_MIN</p></td>
<td><p>$(P)$(R)MinY, $(P)$(R)MinY_RBV</p></td>
<td><p>longout, longin</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatDim1Size</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The ROI size in the Y dimension.</p></td>
<td><p>ROISTAT_DIM1_SIZE</p></td>
<td><p>$(P)$(R)SizeY, $(P)$(R)SizeY_RBV</p></td>
<td><p>longout, longin</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatDim1MaxSize</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>Max size of the ROI in the Y dimension.</p></td>
<td><p>ROISTAT_DIM1_MAX_SIZE</p></td>
<td><p>$(P)$(R)MaxSizeY, $(P)$(R)MaxSizeY_RBV</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatMinValue</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>Minimum count value in the ROI.</p></td>
<td><p>ROISTAT_MIN_VALUE</p></td>
<td><p>$(P)$(R)MinValue_RBV</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatMaxValue</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>Maximum count value in the ROI.</p></td>
<td><p>ROISTAT_MAX_VALUE</p></td>
<td><p>$(P)$(R)MaxValue_RBV</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatMeanValue</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>Mean counts value in the ROI.</p></td>
<td><p>ROISTAT_MEAN_VALUE</p></td>
<td><p>$(P)$(R)MeanValue_RBV</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td><p>NDPluginROIStatTotal</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>Total counts in the ROI.</p></td>
<td><p>ROISTAT_TOTAL</p></td>
<td><p>$(P)$(R)Total_RBV</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStatNet</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>Net (background subtracted) counts in the ROI.</p></td>
<td><p>ROISTAT_NET</p></td>
<td><p>$(P)$(R)Net_RBV</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td colspan="5"><p><strong>Time-Series data</strong></p></td>
</tr>
<tr class="row-even"><td><p>NDPluginROIStat, TSXXX</p></td>
<td><p>asynFloat64Array</p></td>
<td><p>r/o</p></td>
<td><p>The time series data arrays. XXX is one of the following, corresponding to each
of the basic statistics and centroid and sigma statistics described above: <br>
MinValue <br>
MaxValue <br>
MeanValue <br>
Total <br>
Net <br></p></td>
<td><p>ROISTAT_TS_MIN_VALUE <br>
ROISTAT_TS_MAX_VALUE <br>
ROISTAT_TS_MEAN_VALUE <br>
ROISTAT_TS_TOTAL <br>
ROISTAT_TS_NET <br></p></td>
<td><p>$(P)$(R)TSXXX</p></td>
<td><p>waveform</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<p>The NDPluginROIStat plugin is created with the <code class="docutils literal notranslate"><span class="pre">NDROIStatConfigure</span></code>
function, either from C/C++ or from the EPICS IOC shell.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NDROIStatConfigure</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">portName</span><span class="p">,</span> <span class="nb">int</span> <span class="n">queueSize</span><span class="p">,</span> <span class="nb">int</span> <span class="n">blockingCallbacks</span><span class="p">,</span>
                          <span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">NDArrayPort</span><span class="p">,</span> <span class="nb">int</span> <span class="n">NDArrayAddr</span><span class="p">,</span> <span class="nb">int</span> <span class="n">maxROIs</span><span class="p">,</span> <span class="nb">int</span> <span class="n">maxBuffers</span><span class="p">,</span>
                          <span class="n">size_t</span> <span class="n">maxMemory</span><span class="p">,</span> <span class="nb">int</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">int</span> <span class="n">stackSize</span><span class="p">)</span>
</pre></div>
</div>
<p>All but the <code class="docutils literal notranslate"><span class="pre">maxROIs</span></code> parameter are common to all plugins. This
defines how many ROIs this plugin will deal with. Usually this will
match the number of NDROIStatN templates have been instantiated. For
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NDROIStatConfigure</span><span class="p">(</span><span class="s2">&quot;DET1.ROI&quot;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;DET1&quot;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="screen-shots">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Screen shots</a><a class="headerlink" href="#screen-shots" title="Link to this heading"></a></h2>
<p>The following MEDM screen provides access to the parameters in
NDPluginDriver.h and NDPluginROIStat.h through records in
NDPluginBase.template, and NDROIStat.template.</p>
<figure class="align-center">
<img alt="../_images/NDROIStat.png" src="../_images/NDROIStat.png" />
</figure>
<p>The following MEDM screen provides access to the parameters in
NDPluginROIStat.h through records in NDROIStatN.template.</p>
<figure class="align-center">
<img alt="../_images/NDROIStatN.png" src="../_images/NDROIStatN.png" />
</figure>
<p>The following MEDM screen provides access to 8 ROIs at once.</p>
<figure class="align-center">
<img alt="../_images/NDROIStat8.png" src="../_images/NDROIStat8.png" />
</figure>
<figure class="align-center">
<img alt="../_images/NDROIStatTimeSeriesMean.png" src="../_images/NDROIStatTimeSeriesMean.png" />
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="NDPluginROI.html" class="btn btn-neutral float-left" title="NDPluginROI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="NDPluginScatter.html" class="btn btn-neutral float-right" title="NDPluginScatter" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mark Rivers.
      <span class="lastupdated">Last updated on 2024-August-01.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>