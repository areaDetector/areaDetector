

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ADPointGrey &mdash; areaDetector Support</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_overrides.css?v=254ed751" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ADProsilica" href="../ADProsilica/ADProsilica.html" />
    <link rel="prev" title="Example st.cmd Startup File" href="../ADPixirad/st_cmd.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            areaDetector
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Readme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ADCore/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/arch.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/asynPortDriver.html">asynPortDriver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/NDArray.html">NDArray</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../detector_drivers.html">Detector Drivers</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ADCore/guidelines.html">Guidelines and rules for drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADCore/ADDriver.html">ADDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADAndor/andorDoc.html">ADAndor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADAndor3/ADAndorDoc.html">ADAndor3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADAravis/ADAravis.html">ADAravis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADCSimDetector/ADCSimDetectorDoc.html">ADCSimDetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADDexela/ADDexela.html">ADDexela</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADEiger/eiger.html">ADEiger</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADEuresys/ADEuresys.html">ADEuresys</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADFastCCD/index.html">ADFastCCD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADGenICam/ADGenICam.html">ADGenICam</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADHamamatsuDCAM/ADHamamatsuDCAM.html">ADHamamatsuDCAM</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADLambda/ADLambda.html">ADLambda</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADLightField/ADLightField.html">ADLightField</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADmarCCD/marCCDDoc.html">ADmarCCD</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADmar345/mar345Doc.html">ADmar345</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADPerkinElmer/PerkinElmerDoc.html">ADPerkinElmer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADPICam/PICamDoc.html">ADPICam</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADPilatus/pilatusDoc.html">ADPilatus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADPixirad/ADPixirad.html">ADPixirad</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ADPointGrey</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-firmware">Camera firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#video-modes">Video modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#format7-modes">Format7 modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pixel-formats">Pixel formats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#frame-rates">Frame rates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#properties">Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gige-properties">GigE Properties</a></li>
<li class="toctree-l4"><a class="reference internal" href="#standard-areadetector-parameters">Standard areaDetector parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#point-grey-specific-driver-parameters">Point Grey specific driver parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l4"><a class="reference internal" href="#example-st-cmd-startup-file">Example st.cmd startup file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#medm-screens">MEDM screens</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ADProsilica/ADProsilica.html">ADProsilica</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADPvCam/pvcamDoc.html">ADPvCam</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADPylon/ADPylon.html">ADPylon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADQImaging/QImagingDoc.html">ADQImaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADRIXSCam/ADRIXSCam.html">ADRIXSCam</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADSimDetector/simDetector.html">ADSimDetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADSpinnaker/ADSpinnaker.html">ADSpinnaker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADTimePix3/ADTimePix3.html">ADTimePix3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADVimba/ADVimba.html">ADVimba</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ADURL/ADURL.html">ADURL</a></li>
<li class="toctree-l3"><a class="reference internal" href="../NDDriverStdArrays/NDDriverStdArraysDoc.html">NDDriverStdArrays</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pvaDriver/pvaDriver.html">pvaDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../specsAnalyser/index.html">specsAnalyser</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/plugins.html">areaDetector Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional_plugins.html">Additional plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/medm.html">MEDM screens</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADViewers/ad_viewers.html">areaDetector Viewers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../acknowledgements.html">Acknowledgements and licenses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install_guide.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Top-level Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ADCore_release.html">ADCore Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ADSupport_release.html">ADSupport Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doxygen.html">Source Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../detectors.html">Supported Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legacy_versions.html">Legacy Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">areaDetector</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../user_guide.html">areaDetector Users Guide</a></li>
          <li class="breadcrumb-item"><a href="../detector_drivers.html">Detector Drivers</a></li>
      <li class="breadcrumb-item active">ADPointGrey</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ADPointGrey/PointGreyDoc.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="adpointgrey">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">ADPointGrey</a><a class="headerlink" href="#adpointgrey" title="Link to this heading"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mark Rivers, University of Chicago</p>
</dd>
</dl>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#adpointgrey" id="id1">ADPointGrey</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id2">Introduction</a></p></li>
<li><p><a class="reference internal" href="#camera-firmware" id="id3">Camera firmware</a></p></li>
<li><p><a class="reference internal" href="#video-modes" id="id4">Video modes</a></p></li>
<li><p><a class="reference internal" href="#format7-modes" id="id5">Format7 modes</a></p></li>
<li><p><a class="reference internal" href="#pixel-formats" id="id6">Pixel formats</a></p></li>
<li><p><a class="reference internal" href="#frame-rates" id="id7">Frame rates</a></p></li>
<li><p><a class="reference internal" href="#properties" id="id8">Properties</a></p></li>
<li><p><a class="reference internal" href="#gige-properties" id="id9">GigE Properties</a></p></li>
<li><p><a class="reference internal" href="#standard-areadetector-parameters" id="id10">Standard areaDetector parameters</a></p></li>
<li><p><a class="reference internal" href="#point-grey-specific-driver-parameters" id="id11">Point Grey specific driver parameters</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id12">Configuration</a></p></li>
<li><p><a class="reference internal" href="#example-st-cmd-startup-file" id="id13">Example st.cmd startup file</a></p></li>
<li><p><a class="reference internal" href="#medm-screens" id="id14">MEDM screens</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading"></a></h2>
<p>This is an <a class="reference internal" href="../index.html"><span class="doc">areaDetector</span></a> driver for cameras from <a class="reference external" href="http://www.ptgrey.com">Point
Grey</a>. These include IEEE 1394 Firewire DCAM,
GigE, USB 2.0, and USB 3.0 cameras. The driver should work with any
Point Grey camera. It has been tested on Firewire (Flea2), GigE
(BlackFly, Flea3, Grasshopper3), and USB 3.0 (Grasshopper3) cameras. The
driver has been tested on Windows and Linux with all 3 of these cameras.
Note that Point Grey Firewire cameras can also be controlled by the
generic areaDetector <a class="reference external" href="FirewireWinDoc.html">Windows Firewire driver</a>
and the areaDetector <a class="reference external" href="http://controls.diamond.ac.uk/downloads/support/firewireDCAM/index.html">Linux Firewire
driver</a>,
which work with Firewire cameras from any vendor. However, this Point
Grey driver provides access to some vendor-specific features like strobe
outputs that are not available in the generic drivers.</p>
<p>On Linux the Point Grey FlyCap2 SDK requires glibc version 2.14. This
means it cannot be used on RHEL 6, but it can be used on RHEL 7, and
Fedora 15 and higher. For USB 3.0 cameras kernel version 3.5.0 or higher
is required. This means USB 3.0 cameras require Fedora 18 or higher, or
RHEL 7.0 or higher.</p>
<p>This driver inherits from <a class="reference internal" href="../ADCore/ADDriver.html"><span class="doc">ADDriver</span></a>.
It implements nearly all of the parameters in
<a class="reference external" href="../areaDetectorDoxygenHTML/asyn_n_d_array_driver_8h.html">asynNDArrayDriver.h</a>
and in
<a class="reference external" href="../areaDetectorDoxygenHTML/_a_d_driver_8h.html">ADArrayDriver.h</a>. It
also implements a number of parameters that are specific to the
Point Grey cameras. The <a class="reference external" href="../areaDetectorDoxygenHTML/classpoint_grey.html">pointGrey class
documentation</a>
describes this class in detail.</p>
<p>The Point Grey cameras use the <a class="reference external" href="http://damien.douxchamps.net/ieee1394/libdc1394/iidc/">IIDC/DCAM
model</a> for
controlling features like shutter time, white balance, frame sizes,
shutter time, frame rates, etc. This model is used not only for the IEEE
1394 Firewire cameras, for which the IIDC/DCAM model was developed, but
also for their USB and GigE cameras. The Point Grey driver thus has many
similarities to the generic areaDetector <a class="reference external" href="FirewireWinDoc.html">Windows Firewire
driver</a> and the areaDetector <a class="reference external" href="http://controls.diamond.ac.uk/downloads/support/firewireDCAM/index.html">Linux Firewire
driver</a>.
The FlyCapture2 SDK abstracts this model to a certain extent, which
facilitates writing a driver that works with all of the Point Grey
cameras.</p>
</section>
<section id="camera-firmware">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Camera firmware</a><a class="headerlink" href="#camera-firmware" title="Link to this heading"></a></h2>
<p>Point Grey frequently updates the available firmware for each camera to
add features and fix bugs. However, they are not very good about putting
the link to the latest firmware on their Web site. They claim this is
because they only put the firmware on the Web site once it has been
tested on all camera models in the camera family on which that firmware
runs. In practice the firmware version listed on the Web site is often
old and buggy. I have encouraged them to make the latest firmware more
easily available. At present one must e-mail the support team
(<a class="reference external" href="mailto:support&#37;&#52;&#48;ptgrey&#46;com">support<span>&#64;</span>ptgrey<span>&#46;</span>com</a>) and ask them if newer firmware is available for a
particular camera, and if so to provide access to it. They normally do
this by sending a link to a Dropbox folder.</p>
</section>
<section id="video-modes">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Video modes</a><a class="headerlink" href="#video-modes" title="Link to this heading"></a></h2>
<p>The DCAM specification defines standard video formats, and a set of
video modes for each video format. Point Grey combines the video format
and video mode into a single quantity they call VideoMode. The following
table lists these standard video modes.</p>
<p>Video mode Format7 is special. It allows defining an ROI on the camera
to read out. The pixel resolution with which the size and position of
this ROI can be defined can be queried, and is not necessarily a single
pixel. In Format 7 the frame rate settings do not apply, and there is a
another setting called PixelFormat that controls the video format, e.g.
Mono8, Mono16, RGB8, etc.</p>
<p>Most cameras only support a small subset of these standard modes. The
EPICS record $(P)$(R)VideoMode is an mbbo record that only has choices
for the video modes actually available on the specific camera in use.
Since mbbo records only allow a maximum of 16 choices and there are 24
standard video modes, it is conceivable that all available videos modes
would not be presented. In practice this is not a problem since no
existing camera supports more than 16 video modes.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Point Grey Video Modes</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Mode Number</p></th>
<th class="head"><p>Mode Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>160x120 YUV444</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>320x240 YUV422</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>640x480 YUV411</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>640X480 YUV422</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>640x480 RGB</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>640x480 Mono8</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>640x480 Mono16</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>800x600 YUV422</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>800x600 RGB</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>800x600 Mono8</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>1024x768 YUV422</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>1024x768 RGB</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>1024x768 Mono8</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>800x600 Mono16</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>1024x768 Mono16</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>1280x960 YUV422</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>1280x960 RGB</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>1280x960 Mono8</p></td>
</tr>
<tr class="row-odd"><td><p>18</p></td>
<td><p>1600x1200 YUV422</p></td>
</tr>
<tr class="row-even"><td><p>19</p></td>
<td><p>1600x1200 RGB</p></td>
</tr>
<tr class="row-odd"><td><p>20</p></td>
<td><p>1600x1200 Mono8</p></td>
</tr>
<tr class="row-even"><td><p>21</p></td>
<td><p>1280x960 Mono16</p></td>
</tr>
<tr class="row-odd"><td><p>22</p></td>
<td><p>1600x1200 Mono16</p></td>
</tr>
<tr class="row-even"><td><p>23</p></td>
<td><p>Format7 (user-defined)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="format7-modes">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Format7 modes</a><a class="headerlink" href="#format7-modes" title="Link to this heading"></a></h2>
<p>When the video mode is Format7 then there is an available selection of
Format7 modes. These modes are not defined in the IIDC/DCAM standard,
but are specific to each vendor and camera. Typically Format7 mode 0 is
the entire chip unbinned, and mode 1 is often the entire chip with 2x2
binning. The supported Format7 modes are listed in the Point Grey
Technical Reference Manual for each camera. The EPICS Format7Mode record
is used to select the Format7 mode to use. This is an mbbo record and
the enum choices are only those supported by the camera in use. The enum
strings are of the form “Format7 mode # (NYxNY)”, for example “0
(1920x1200)” or “1 (960x600)” for Format7 modes 0 and 1 respectively on
a camera with 1920 x 1200 pixels.</p>
</section>
<section id="pixel-formats">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Pixel formats</a><a class="headerlink" href="#pixel-formats" title="Link to this heading"></a></h2>
<p>When the video mode is Format7 then there is an available selection of
PixelFormats. The available PixelFormats depend on the selected Format7
mode. Selection of a PixelFormat is done with the EPICS PixelFormat
record. This is an mbbo record that only has choices that are valid for
the currently selected Format7 mode. The enum values in this record are
thus dynamic, and it is displayed in a separate GUI window that must be
closed and re-opened when the Format7 mode changes in order to guarantee
that it is displaying the currently valid PixelFormat choices.</p>
<p>The following tables lists the standard pixel formats for video mode
Format7. Note that typically only a few of these pixel formats are
supported on a particular camera with a specific Format7 mode.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Point Grey Format7 Pixel Formats</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Pixel Format Number</p></th>
<th class="head"><p>Pixel Format Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Mono8</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>YUV411</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>YUV422</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>YUV444</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>RGB8</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Mono16</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>RGB16</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>Mono16_Signed</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>RGB16_Signed</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>Raw8</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>Raw16</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>Mono12</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>Raw12</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>BGR</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>BGRU</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>BGR16</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>BGRU16</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>YUV422_JPEG</p></td>
</tr>
</tbody>
</table>
</section>
<section id="frame-rates">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Frame rates</a><a class="headerlink" href="#frame-rates" title="Link to this heading"></a></h2>
<p>The following tables lists the standard IIDC/DCAM frame rates for video
modes other than Format7. Selecting a video mode (other than Format7)
defines the choice of available standard frame rates. Selecting a
standard frame rate actually defines a range of frame rates that are
available, and the actual frame rate can be adjusted within this range
with the FrameRate property. The FrameRate property is controlled with
the EPICS FrameRateAbsVal or AcquirePeriod records.</p>
<p>Selection of a standard frame rate is done with the EPICS FrameRate
record. This is an mbbo record that only has choices that are valid for
the currently selected video mode. The enum values in this record are
thus dynamic, and it is displayed in a separate GUI window that must be
closed and re-opened when the video mode changes in order to guarantee
that it is displaying the currently valid FrameRate choices. Note that
not all frame rates are supported by the IIDC standard for every video
mode, and even when a frame rate is supported by the standard it may not
be implemented for a particular camera.</p>
<p>In Format 7 the frame rate settings do not apply, and the frame rate is
controlled solely by the FrameRate property.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 40.0%" />
<col style="width: 60.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="2"><p>Standard IIDC/DCAM Video Frame Rates</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Frame Rate Number</p></th>
<th class="head"><p>Frame Rate (Frames/second)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1.875</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>3.75</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>7.5</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>30</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>60</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>120</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>240</p></td>
</tr>
</tbody>
</table>
</section>
<section id="properties">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Properties</a><a class="headerlink" href="#properties" title="Link to this heading"></a></h2>
<p>The DCAM specification defines a number of standard features, which
control things such as the brightness, white balance, shutter time, etc.
For each feature the standard defines control in both device units
(12-bit integers) and absolute units (floating point). For example
shutter time may support absolute seconds, as well as device units. A
feature may or may not be supported on a particular camera. If it is
supported it may or may not permit control in absolute units. Each
feature may support both manual control and automatic control (e.g.
automatic gain control).</p>
<p>Point Grey supports 18 of these DCAM features, which they call
Properties.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 40.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Point Grey Camera Properties</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Property Number</p></th>
<th class="head"><p>EPICS Record Base Name</p></th>
<th class="head"><p>Point Grey PropertyType enum</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Brightness</p></td>
<td><p>BRIGHTNESS</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>AutoExposure</p></td>
<td><p>AUTO_EXPOSURE</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>Sharpness</p></td>
<td><p>SHARPNESS</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>WhiteBalance</p></td>
<td><p>WHITE_BALANCE</p></td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><p>Hue</p></td>
<td><p>HUE</p></td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><p>Saturation</p></td>
<td><p>SATURATION</p></td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><p>Gamma</p></td>
<td><p>GAMMA</p></td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><p>Iris</p></td>
<td><p>IRIS</p></td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><p>Focus</p></td>
<td><p>FOCUS</p></td>
</tr>
<tr class="row-even"><td><p>9</p></td>
<td><p>Zoom</p></td>
<td><p>ZOOM</p></td>
</tr>
<tr class="row-odd"><td><p>10</p></td>
<td><p>Pan</p></td>
<td><p>PAN</p></td>
</tr>
<tr class="row-even"><td><p>11</p></td>
<td><p>Tilt</p></td>
<td><p>TILT</p></td>
</tr>
<tr class="row-odd"><td><p>12</p></td>
<td><p>Shutter</p></td>
<td><p>SHUTTER</p></td>
</tr>
<tr class="row-even"><td><p>13</p></td>
<td><p>Gain</p></td>
<td><p>GAIN</p></td>
</tr>
<tr class="row-odd"><td><p>14</p></td>
<td><p>TriggerMode</p></td>
<td><p>TRIGGER_MODE</p></td>
</tr>
<tr class="row-even"><td><p>15</p></td>
<td><p>TriggerDelay</p></td>
<td><p>TRIGGER_DELAY</p></td>
</tr>
<tr class="row-odd"><td><p>16</p></td>
<td><p>FrameRate</p></td>
<td><p>FRAME_RATE</p></td>
</tr>
<tr class="row-even"><td><p>17</p></td>
<td><p>Temperature</p></td>
<td><p>TEMPERATURE</p></td>
</tr>
</tbody>
</table>
</section>
<section id="gige-properties">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">GigE Properties</a><a class="headerlink" href="#gige-properties" title="Link to this heading"></a></h2>
<p>Point Grey supports 4 properties that are specific to GigE cameras.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<thead>
<tr class="row-odd"><th class="head"></th>
<th class="head" colspan="2"><p>Point Grey GigE Properties</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Property Number</p></th>
<th class="head"><p>EPICS Record Base Name</p></th>
<th class="head"><p>Point Grey PropertyType enum</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>Heartbeat</p></td>
<td><p>HEARTBEAT</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>HeartbeatTimeout</p></td>
<td><p>HEARTBEAT_TIMEOUT</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>PacketSize</p></td>
<td><p>PACKET_SIZE</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>PacketDelay</p></td>
<td><p>PACKET_DELAY</p></td>
</tr>
</tbody>
</table>
</section>
<section id="standard-areadetector-parameters">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Standard areaDetector parameters</a><a class="headerlink" href="#standard-areadetector-parameters" title="Link to this heading"></a></h2>
<p>The following table describes how the Point Grey driver implements some
of the standard driver parameters.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 10.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="3"><p>Implementation of Parameters in asynNDArrayDriver.h and ADDriver.h, and EPICS Record
Definitions in ADBase.template and NDFile.template</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Parameter index variable</p></th>
<th class="head"><p>EPICS record name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p>ADTriggerMode</p></td>
<td><p>$(P)$(R)TriggerMode</p></td>
<td><p>The choices for the Point Grey are:
<br>”Internal”. The timing is internal to the detector. <br>
“Ext. standard”. Each external trigger pulse starts the next image. The exposure
time is controlled internally by the AcquireTime record. <br>
“Bulb”. The rising edge of the external trigger signal starts the next image.
The detector continues to acquire while the external signal is high, and then reads
out the detector on the falling edge of the external trigger signal. <br>
“Skip frames”. One external trigger pulse starts an image and then the next N
external trigger signals are ignored. The SkipFrames record defines N. <br>
“Multi-exposure”. One external trigger pulse starts an image and then the next
N-1 external trigger signals cause an additional exposure into the same image. The
image is read out after trigger N. The NumExposures record defines N. <br>
“Multi-exposure bulb”. A combination of bulb and multi-exposure modes above. N
exposures are accumulated into an image before it is read out. The time in the logic
high state determines the acquire time for each exposure. The NumExposures record
defines N. <br>
“Low-smear”. Smear reduction works by increasing the speed of the vertical clock
near the end of the integration cycle. See the Technical Reference Manual for the
camera for more information. <br>
“Multi-shot”. A single external trigger causes N images to be acquired. The NumImages
record defines N. NumImages is limited to a maximum 255 in this mode. <br>
Note that the minimum time between external trigger pulses is no more than the maximum
value of FrameRate in the current mode, and may be less for a particular camera.
Note also that not all cameras support all TriggerModes. The TriggerMode enum string
choices are only those supported for the camera in use.</p></td>
</tr>
<tr class="row-even"><td><p>ADTemperatureActual</p></td>
<td><p>$(P)$(R)TemperatureActual</p></td>
<td><p>The readback of the temperature.</p></td>
</tr>
<tr class="row-odd"><td><p>ADNumImages</p></td>
<td><p>$(P)$(R)NumImages</p></td>
<td><p>Controls the number of images to acquire. When TriggerMode=Internal this is handled
in software. When TriggerMode=Multi-shot it is handled in the camera firmware.</p></td>
</tr>
<tr class="row-even"><td><p>ADNumExposures</p></td>
<td><p>$(P)$(R)NumExposures</p></td>
<td><p>Controls the number of exposures per image when TriggerMode=”Multi-exposure” or
“Multi-exposure bulb”.</p></td>
</tr>
<tr class="row-odd"><td><p>ADAcquireTime</p></td>
<td><p>$(P)$(R)AcquireTime</p></td>
<td><p>Controls the acquisition time per image. This is converted into the ShutterAbsVal
control of the SHUTTER property. ShutterAbsVal = AcquireTime*1000., because SHUTTER
units are ms.</p></td>
</tr>
<tr class="row-even"><td><p>ADAcquirePeriod</p></td>
<td><p>$(P)$(R)AcquirePeriod</p></td>
<td><p>Controls the period between images. This is converted into the FrameRateAbsVal control
of the FRAME_RATE property. FrameRateAbsVal = 1./AcquirePeriod.</p></td>
</tr>
<tr class="row-odd"><td><p>ADGain</p></td>
<td><p>$(P)$(R)Gain</p></td>
<td><p>Controls the analog gain on the camera. This is converted into the GainAbsVal control
of the GAIN property. The units are dB.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="point-grey-specific-driver-parameters">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Point Grey specific driver parameters</a><a class="headerlink" href="#point-grey-specific-driver-parameters" title="Link to this heading"></a></h2>
<p>The Point Grey driver implements the following parameters in addition to
those in asynNDArrayDriver.h and ADDriver.h. The database file is
pointGrey.template for all records except the property records, which
are in pointGreyProperty.template.</p>
<table class="table-bordered table-striped table-hover docutils align-default">
<colgroup>
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 70.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
<col style="width: 5.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" colspan="7"><p>Parameter Definitions in pointGrey.cpp and EPICS Record Definitions</p></th>
</tr>
<tr class="row-even"><th class="head"><p>Parameter index variable</p></th>
<th class="head"><p>asyn interface</p></th>
<th class="head"><p>Access</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>drvInfo string</p></th>
<th class="head"><p>EPICS record name</p></th>
<th class="head"><p>EPICS record type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td></td>
<td></td>
<td colspan="5"><p><strong>Video mode parameters</strong></p></td>
</tr>
<tr class="row-even"><td><p>PGVideoMode</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The video mode. All possible values are listed in the <a class="reference internal" href="#video-modes">Video modes</a>
section above. The actual enum choices for this record will pnly include
the video modes supported by the camera in use.</p></td>
<td><p>PG_VIDEO_MODE</p></td>
<td><p>$(P)$(R)VideoMode, $(P)$(R)VideoMode_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-odd"><td><p>PGFormat7Mode</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The Format7 mode when the camera is in VideoMode=Format7. This is discussed in the
<a class="reference internal" href="#format7-modes">Format7 Modes</a> section above. The actual enum choices
for this record will only include the Format7 modes supported by the camera in use.</p></td>
<td><p>PG_FORMAT7_MODE</p></td>
<td><p>$(P)$(R)Format7Mode, $(P)$(R)Format7Mode_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-even"><td><p>PGPixelFormat</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The pixel format when the camera is in VideoMode=Format7. This is discussed in the
<a class="reference internal" href="#pixel-formats">Pixel formats</a> section above. The actual enum choices
for this record will only include the pixel formats supported by the camera in use
for the Format7Mode currently selected.</p></td>
<td><p>PG_PIXEL_FORMAT</p></td>
<td><p>$(P)$(R)PixelFormat, $(P)$(R)PixelFormat_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-odd"><td><p>PGConvertPixelFormat</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The driver allows converting the pixel format from the camera to another pixel format.
The pixel formats from the camera that can be converted are: <br>
Raw8 <br>
Raw12 <br>
Raw16 <br>
Mono12 <br>
The pixel format that these can be converted to are: <br>
None: The input pixel format is not converted. <br>
Mono8: The input pixel format is converted to Mono8. <br>
Raw16: The input pixel format is converted to Raw16. This is useful when the input
pixel format is Raw12, since this saves network bandwidth. <br>
Mono16: The input pixel format is converted to Mono16. This is useful when the
input pixel format is Mono12, since this saves network bandwidth. Note that the
FlyCap2 library does not support converting Raw12 to Mono16. The difference between
Raw16 and Mono16 is that Mono16 has the sharpness and gamma corrections applied,
while Raw16 does not. <br>
RGB8: The input format is converted to RGB8. This is useful when the input format
is Raw8, for a color camera. In this case Bayer color is sent on the network, reducing
the bandwidth requirement by a factor of 3. <br>
RGB16: The input format is converted to RGB16. This is useful when the input format
is Raw16, for a color camera. In this case Bayer color is sent on the network, reducing
the bandwidth requirement by a factor of 3. <br></p></td>
<td><p>PG_CONVERT_PIXEL_FORMAT</p></td>
<td><p>$(P)$(R)ConvertPixelFormat, $(P)$(R)ConvertPixelFormat_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-even"><td><p>PGFrameRate</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The frame rate choice when the VideoMode is not Format7. This is discussed in the
<a class="reference internal" href="#frame-rates">Frame rates</a> section above. The actual enum choices for
this record will only include the frame rates supported by the camera in use for
the VideoMode currently selected.</p></td>
<td><p>PG_FRAME_RATE</p></td>
<td><p>$(P)$(R)FrameRate, $(P)$(R)FrameRate_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-odd"><td><p>BinningMode</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The binning mode for GigE cameras. The allowed values are camera-specific.</p></td>
<td><p>PG_BINNING_MODE</p></td>
<td><p>$(P)$(R)BinningMode, $(P)$(R)BinningMode_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td colspan="5"><p><strong>Property parameters, These parameters apply to each of the 18 Point Grey properties discussed in the
`Properties`_ section above. |br|
The $(PROPERTY) macro in this table is the EPICS record base name listed in that
section. |br|
These records are defined in pointGreyProperty.template.</strong></p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property is available.</p></td>
<td><p>PG_PROP_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)Avail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyOnOffAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property supports turning on and off.</p></td>
<td><p>PG_PROP_ON_OFF_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)OnOffAvail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyOnOff</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Controls whether the property is on or off.</p></td>
<td><p>PG_PROP_ON_OFF</p></td>
<td><p>$(P)$(R)$(PROPERTY)OnOff
, $(P)$(R)$(PROPERTY)OnOff_RBV</p></td>
<td><p>bo
, bi</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyOnePushAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property supports setting once (called One Push). This
is typically used for setting things like the gain or shutter time automatically
once.</p></td>
<td><p>PG_PROP_ONE_PUSH_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)OnePushAvail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyOnePush</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Processing this record causes a one-push setting of the property.</p></td>
<td><p>PG_PROP_ONE_PUSH</p></td>
<td><p>$(P)$(R)$(PROPERTY)OnePush</p></td>
<td><p>bo</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyAbsAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property supports absolute (floating point) control.</p></td>
<td><p>PG_PROP_ABS_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)AbsAvail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyAutoAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property supports automatic control.</p></td>
<td><p>PG_PROP_AUTO_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)AutoAvail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyManAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property supports manual control.</p></td>
<td><p>PG_PROP_MAN_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)ManAvail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyAutoMode</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Controls whether the property is manually controlled or automatically controlled.</p></td>
<td><p>PG_PROP_AUTO_MODE</p></td>
<td><p>$(P)$(R)$(PROPERTY)AutoMode
, $(P)$(R)$(PROPERTY)AutoMode_RBV</p></td>
<td><p>bo
, bi</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyAbsAvail</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>A flag indicating if the property supports absolute (floating point) control.</p></td>
<td><p>PG_PROP_ABS_AVAIL</p></td>
<td><p>$(P)$(R)$(PROPERTY)AbsAvail</p></td>
<td><p>bi</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyAbsMode</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Controls whether the property is controlled in integer device units or floating
point absolute units.</p></td>
<td><p>PG_PROP_ABS_MODE</p></td>
<td><p>$(P)$(R)$(PROPERTY)AbsMode
, $(P)$(R)$(PROPERTY)AbsMode_RBV</p></td>
<td><p>bo
, bi</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyValue</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The value of the property in integer device units. This controls the ValueA field
of the property, which is the only integer field used for all properties except
WHITE_BALANCE.</p></td>
<td><p>PG_PROP_VAL</p></td>
<td><p>$(P)$(R)$(PROPERTY)Val
, $(P)$(R)$(PROPERTY)Val_RBV</p></td>
<td><p>ao
, ai</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyValueB</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The value of the property in integer device units. This controls the ValueB field
of the property, which is only used to control the Blue value of WHITE_BALANCE.</p></td>
<td><p>PG_PROP_VAL_B</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValB
, $(P)$(R)$(PROPERTY)ValB_RBV</p></td>
<td><p>ao
, ai</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyValueMin</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The minimum value of the property in device units. This is used to control the LOPR
and DRVL fields of the $(P)$(R)$(PROPERTY)Val record.</p></td>
<td><p>PG_PROP_VAL_MIN</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValMin</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyValueMax</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The maximum value of the property in device units. This is used to control the HOPR
and DRVH fields of the $(P)$(R)$(PROPERTY)Val record.</p></td>
<td><p>PG_PROP_VAL_MAX</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValMax</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyValueAbs</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/w</p></td>
<td><p>The value of the property in floating point absolute units.</p></td>
<td><p>PG_PROP_VAL_ABS</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValAbs
, $(P)$(R)$(PROPERTY)ValAbs_RBV</p></td>
<td><p>ao
, ai</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyValueAbsMin</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>The minimum value of the property in absolute units. This is used to control the
LOPR and DRVL fields of the $(P)$(R)$(PROPERTY)ValAbs record.</p></td>
<td><p>PG_PROP_VAL_ABS_MIN</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValAbsMin</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyValueAbsMax</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>The maximum value of the property in absolute units. This is used to control the
HOPR and DRVH fields of the $(P)$(R)$(PROPERTY)ValAbs record.</p></td>
<td><p>PG_PROP_VAL_ABS_MAX</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValAbsMax</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td colspan="5"><p><strong>GigE Property parameters, These parameters apply to each of the 4 Point Grey GigE properties discussed in
the `GigE Properties`_ section above. |br|
The $(PROPERTY) macro in this table is the EPICS record base name listed in that
section. |br|
These records are defined in pointGreyProperty.template.</strong></p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyValue</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The value of the property in integer device units. This controls the ValueA field
of the property, which is the only integer field used for all properties except
WHITE_BALANCE.</p></td>
<td><p>PG_PROP_VAL</p></td>
<td><p>$(P)$(R)$(PROPERTY)Val
, $(P)$(R)$(PROPERTY)Val_RBV</p></td>
<td><p>ao, ai</p></td>
</tr>
<tr class="row-odd"><td><p>PGPropertyValueMin</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The minimum value of the property in device units. This is used to control the LOPR
and DRVL fields of the $(P)$(R)$(PROPERTY)Val record.</p></td>
<td><p>PG_PROP_VAL_MIN</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValMin</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-even"><td><p>PGPropertyValueMax</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The maximum value of the property in device units. This is used to control the HOPR
and DRVH fields of the $(P)$(R)$(PROPERTY)Val record.</p></td>
<td><p>PG_PROP_VAL_MAX</p></td>
<td><p>$(P)$(R)$(PROPERTY)ValMax</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td colspan="5"><p><strong>Trigger parameters</strong></p></td>
</tr>
<tr class="row-even"><td><p>PGTriggerSource</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The trigger source signal. Choices are “GPIO_0”, GPIO_1”,”GPIO_2”, and “GPIO_3”,
which selects one of 4 GPIO pins on the camera. However, not all choices may be
available on a specific camera, and the enum choices will only be the trigger sources
actually supported on the camera in use.</p></td>
<td><p>PG_TRIGGER_SOURCE</p></td>
<td><p>$(P)$(R)TriggerSource
, $(P)$(R)TriggerSource_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-odd"><td><p>PGTriggerPolarity</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The trigger polarity. Choices are “Low”, and “High”.</p></td>
<td><p>PG_TRIGGER_POLARITY</p></td>
<td><p>$(P)$(R)TriggerPolarity
, $(P)$(R)TriggerPolarity_RBV</p></td>
<td><p>bo
, bi</p></td>
</tr>
<tr class="row-even"><td><p>PGSoftwareTrigger</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Processing this record causes the driver to issue a software trigger.</p></td>
<td><p>PG_SOFTWARE_TRIGGER</p></td>
<td><p>$(P)$(R)SoftwareTrigger</p></td>
<td><p>bo</p></td>
</tr>
<tr class="row-odd"><td><p>PGSkipFrames</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The number of frames to skip when TriggerMode=”Skip frames”.</p></td>
<td><p>PG_SKIP_FRAMES</p></td>
<td><p>$(P)$(R)SkipFrames
, $(P)$(R)SkipFrames_RBV</p></td>
<td><p>longout
, longin</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td colspan="5"><p><strong>Strobe parameters</strong></p></td>
</tr>
<tr class="row-odd"><td><p>PGStrobeSource</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The strobe output signal. Choices are “GPIO_0”, GPIO_1”,”GPIO_2”, and “GPIO_3”,
which selects one of 4 GPIO pins on the camera. However, not all choices may be
available on a specific camera, and the enum choices will only be the strobe sources
actually supported on the camera in use.</p></td>
<td><p>PG_STROBE_SOURCE</p></td>
<td><p>$(P)$(R)StrobeSource
, $(P)$(R)StrobeSource_RBV</p></td>
<td><p>mbbo
, mbbi</p></td>
</tr>
<tr class="row-even"><td><p>PGStrobeEnable</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>Enables the strobe output. Choices are “Disable”, and “Enable”.</p></td>
<td><p>PG_STROBE_ENABLE</p></td>
<td><p>$(P)$(R)StrobeEnable
, $(P)$(R)StrobeEnable_RBV</p></td>
<td><p>bo
, bi</p></td>
</tr>
<tr class="row-odd"><td><p>PGStrobePolarity</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The strobe polarity. Choices are “Low”, and “High”.</p></td>
<td><p>PG_STROBE_POLARITY</p></td>
<td><p>$(P)$(R)StrobePolarity
, $(P)$(R)StrobePolarity_RBV</p></td>
<td><p>bo
, bi</p></td>
</tr>
<tr class="row-even"><td><p>PGStrobeDelay</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/w</p></td>
<td><p>The delay of the strobe signal relative to the start of acquisition.</p></td>
<td><p>PG_STROBE_DELAY</p></td>
<td><p>$(P)$(R)StrobeDelay
, $(P)$(R)StrobeDelay_RBV</p></td>
<td><p>ao
, ai</p></td>
</tr>
<tr class="row-odd"><td><p>PGStrobeDuration</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/w</p></td>
<td><p>The duration of the strobe signal. If zero then the strobe output is asserted during
the image aquisition time.</p></td>
<td><p>PG_STROBE_DURATION</p></td>
<td><p>$(P)$(R)StrobeDuration
, $(P)$(R)StrobeDuration_RBV</p></td>
<td><p>ao
, ai</p></td>
</tr>
<tr class="row-even"><td></td>
<td></td>
<td colspan="5"><p><strong>Bandwidth control parameters</strong></p></td>
</tr>
<tr class="row-odd"><td><p>PGMaxPacketSize</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The maximum packet size. This depends on the current acquisition settings for Firewire
and USB cameras. For GigE cameras this is determined by calling DiscoverGigEPacketSize
at startup, which should return the maximum Ethernet packet size supported between
the camera and the IOC. However, this sometimes returns 9000 (jumbo packets) when
jumbo packets are not in fact supported. In this case the user should manually set
PacketSize to 1440 or image acquisition will fail.</p></td>
<td><p>PG_MAX_PACKET_SIZE</p></td>
<td><p>$(P)$(R)MaxPacketSize</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-even"><td><p>PGPacketSize</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The packet size to use. This is used to control the maximum bandwidth, and hence
maximum frame rate, on Firewire and USB cameras. For GigE cameras it should be set
to the largest packet size supported on the Ethernet connection between the camera
and IOC. It should be set to 1440 for connections that do not support jumbo packets,
and as large as 9000 for connections that do support jumbo packets. If PacketSize
is set to 0 then the driver will use the current value of MaxPacketSize.</p></td>
<td><p>PG_PACKET_SIZE</p></td>
<td><p>$(P)$(R)PacketSize
, $(P)$(R)PacketSize_RBV</p></td>
<td><p>ao
, ai</p></td>
</tr>
<tr class="row-odd"><td><p>PGPacketSizeActual</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The actual packet size being used.</p></td>
<td><p>PG_PACKET_SIZE_ACTUAL</p></td>
<td><p>$(P)$(R)PacketSizeActual</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-even"><td><p>PGPacketDelay</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The packet delay to use in microseconds. This is used to control the maximum bandwidth,
and hence maximum frame rate, on GigE cameras. It is not used for Firewire or USB
cameras. The default is 400 microseconds. If the number of CorruptFrames is large
then this can be increased, for example to 1000. This will reduce the maximum frame
rate but can significantly reduce the number of CorruptFrames.</p></td>
<td><p>PG_PACKET_DELAY</p></td>
<td><p>$(P)$(R)PacketDelay
, $(P)$(R)PacketDelay_RBV</p></td>
<td><p>longout
, longin</p></td>
</tr>
<tr class="row-odd"><td><p>PGPacketDelayActual</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The actual packet delay being used.</p></td>
<td><p>PG_PACKET_DELAY_ACTUAL</p></td>
<td><p>$(P)$(R)PacketDelayActual</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-even"><td><p>PGBandwidth</p></td>
<td><p>asynFloat64</p></td>
<td><p>r/o</p></td>
<td><p>The calculated bandidth in MB/s. This is computed from the image size and the frame
rate.</p></td>
<td><p>PG_BANDWIDTH</p></td>
<td><p>$(P)$(R)Bandwidth</p></td>
<td><p>ai</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td colspan="5"><p><strong>Timestamp parameters</strong></p></td>
</tr>
<tr class="row-even"><td><p>PGTimeStampMode</p></td>
<td><p>asynInt32</p></td>
<td><p>r/w</p></td>
<td><p>The timestamp mode. Controls the value of the NDArray,.timeStamp value. Choices are: <br>
Camera: The time from the camera is used. <br>
EPICS: The EPICS time is used <br>
Hybrid: The EPICS time when the camera started is combined with the time stamp
from the camera. <br></p></td>
<td><p>PG_TIME_STAMP_MODE</p></td>
<td><p>$(P)$(R)TimeStampMode, $(P)$(R)TimeStampMode_RBV</p></td>
<td><p>mbbo, mbbi</p></td>
</tr>
<tr class="row-odd"><td></td>
<td></td>
<td colspan="5"><p><strong>Camera statistics</strong></p></td>
</tr>
<tr class="row-even"><td><p>PGCorruptFrames</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The number of corrupt frames. The Point Grey SDK resets this to 0 each time acquisition
is started.</p></td>
<td><p>PG_CORRUPT_FRAMES</p></td>
<td><p>$(P)$(R)CorruptFrames_RBV</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-odd"><td><p>PGDroppedFrames</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The number of dropped frames. The Point Grey SDK resets this to 0 each time acquisition
is started.</p></td>
<td><p>PG_DROPPED_FRAMES</p></td>
<td><p>$(P)$(R)DroppedFrames_RBV</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-even"><td><p>PGDriverDropped</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The number of frames dropped by the driver. The Point Grey SDK resets this to 0
each time acquisition is started.</p></td>
<td><p>PG_DRIVER_DROPPED</p></td>
<td><p>$(P)$(R)DriverDropped_RBV</p></td>
<td><p>longin</p></td>
</tr>
<tr class="row-odd"><td><p>PGTransmitFailed</p></td>
<td><p>asynInt32</p></td>
<td><p>r/o</p></td>
<td><p>The number of time transmission failed. The Point Grey SDK resets this to 0 each
time acquisition is started.</p></td>
<td><p>PG_TRANSMIT_FAILED</p></td>
<td><p>$(P)$(R)TransmitFailed_RBV</p></td>
<td><p>longin</p></td>
</tr>
</tbody>
</table>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id12" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<p>The Point Grey driver is created with the pointGreyConfig command,
either from C/C++ or from the EPICS IOC shell.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pointGreyConfig</span><span class="p">(</span><span class="n">const</span> <span class="n">char</span> <span class="o">*</span><span class="n">portName</span><span class="p">,</span> <span class="n">const</span> <span class="n">char</span><span class="o">*</span> <span class="n">cameraId</span><span class="p">,</span> <span class="nb">int</span> <span class="n">traceMask</span><span class="p">,</span> <span class="nb">int</span> <span class="n">memoryChannel</span><span class="p">,</span>
              <span class="nb">int</span> <span class="n">maxBuffers</span><span class="p">,</span> <span class="n">size_t</span> <span class="n">maxMemory</span><span class="p">,</span>
              <span class="nb">int</span> <span class="n">priority</span><span class="p">,</span> <span class="nb">int</span> <span class="n">stackSize</span><span class="p">)</span>
</pre></div>
</div>
<p>The cameraId parameter can either be an index of the camera in the list
of available cameras (e.g. 0 if there is only a single Point Grey camera
available) or the serial number of the camera to use. For additional
details on the meaning of the parameters to this function refer to the
detailed documentation on the pointGreyConfigConfig function in the
<a class="reference external" href="../areaDetectorDoxygenHTML/point_grey_8cpp.html">pointGrey.cpp
documentation</a> and in
the documentation for the constructor for the <a class="reference external" href="../areaDetectorDoxygenHTML/classpoint_grey.html">pointGrey
class</a>.</p>
<p>The traceMask can be set to a value &gt; 1 to enable asynTrace debugging
during initialization, before the value can be set from the IOC shell or
via the asynRecord. Set this to 0x21 to enable ASYN_TRACE_WARNING,
which will trace all calls to the Point Grey FlyCap2 library.</p>
<p>The memoryChannel can be set to a value &gt; 0 to load the initial camera
parameters from non-volatile memory in the camera. Setting memoryChannel
to N loads from memoryChannel N-1, i.e. 1 loads memory channel 0. There
is currently a problem with Linux and for BlackFly GigE cameras. If the
IOC is run a second time after it has been used to acquire any images
the driver loses communication with the camera. The problem appears to
be that there is a corrupt setting in the camera, which causes it to
malfunction the next time the program is run. Setting memoryChannel 1
will work around this problem by replacing the settings in the camera
with a default set. Since the EPICS IOC sets nearly all the camera
settings to save/restore values at startup anyway, this is not a serious
limitation.</p>
</section>
<section id="example-st-cmd-startup-file">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Example st.cmd startup file</a><a class="headerlink" href="#example-st-cmd-startup-file" title="Link to this heading"></a></h2>
<p>The following startup script is provided with ADPointGrey.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt; envPaths
errlogInit(20000)

dbLoadDatabase(&quot;$(TOP)/dbd/pointGreyApp.dbd&quot;)
pointGreyApp_registerRecordDeviceDriver(pdbbase) 

# Prefix for all records
epicsEnvSet(&quot;PREFIX&quot;, &quot;13PG1:&quot;)
# Use this line for the first Point Grey camera in the system
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;0&quot;)
# Use this line for a specific camera by serial number, in this case a Flea2 Firewire camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;9211601&quot;)
# Use this line for a specific camera by serial number, in this case a Grasshopper3 USB-3.0 camera
# This is the GSECARS tomography camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;13510305&quot;)
# This is another GSECARS tomography camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;15355695&quot;)
# This is another GSECARS tomography camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;15337483&quot;)
# This is the 13-ID-D Grasshopper3 GigE camera, gse-pointgrey2
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;14481221&quot;)
# This is the 13-ID-D Grasshopper3 GigE camera, gse-pointgrey3
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;14481209&quot;)
# This is the GSECARS LVP CMOS camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;14120134&quot;)
# This is the GSECARS LVP CCD camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;15452742&quot;)
# This is the 2-BM camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;15355637&quot;)
# This is the 2-BM GS3-U3-91S6M-C camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;13510309&quot;)
# Use this line for a specific camera by serial number, in this case a BlackFly GigE camera
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;13481965&quot;)
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;16292610&quot;)
epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;18402100&quot;)
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;1624484&quot;)
# Use this line for a specific camera by serial number, in this case a Flea3 GigE camera
# epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;14273040&quot;)
#epicsEnvSet(&quot;CAMERA_ID&quot;, &quot;17476170&quot;)

# The port name for the detector
epicsEnvSet(&quot;PORT&quot;,   &quot;PG1&quot;)
# Really large queue so we can stream to disk at full camera speed
epicsEnvSet(&quot;QSIZE&quot;,  &quot;2000&quot;)   
# The maximim image width; used for row profiles in the NDPluginStats plugin
epicsEnvSet(&quot;XSIZE&quot;,  &quot;2048&quot;)
# The maximim image height; used for column profiles in the NDPluginStats plugin
epicsEnvSet(&quot;YSIZE&quot;,  &quot;2048&quot;)
# The maximum number of time series points in the NDPluginStats plugin
epicsEnvSet(&quot;NCHANS&quot;, &quot;2048&quot;)
# The maximum number of frames buffered in the NDPluginCircularBuff plugin
epicsEnvSet(&quot;CBUFFS&quot;, &quot;500&quot;)
# The search path for database files
epicsEnvSet(&quot;EPICS_DB_INCLUDE_PATH&quot;, &quot;$(ADCORE)/db&quot;)
# Define NELEMENTS to be enough for a 2048x2048x3 (color) image
epicsEnvSet(&quot;NELEMENTS&quot;, &quot;12592912&quot;)

# pointGreyConfig(const char *portName, int cameraId, int traceMask, int memoryChannel,
#                 int maxBuffers, size_t maxMemory, int priority, int stackSize)
pointGreyConfig(&quot;$(PORT)&quot;, $(CAMERA_ID), 0x1, 0)
asynSetTraceIOMask($(PORT), 0, 2)
#asynSetTraceMask($(PORT), 0, 0xFF)
#asynSetTraceFile($(PORT), 0, &quot;asynTrace.out&quot;)
#asynSetTraceInfoMask($(PORT), 0, 0xf)

dbLoadRecords(&quot;$(ADPOINTGREY)/db/pointGrey.template&quot;, &quot;P=$(PREFIX),R=cam1:,PORT=$(PORT),ADDR=0,TIMEOUT=1&quot;)
dbLoadTemplate(&quot;pointGrey.substitutions&quot;)

# Create a standard arrays plugin
NDStdArraysConfigure(&quot;Image1&quot;, 5, 0, &quot;$(PORT)&quot;, 0, 0)
# Use this line for 8-bit data only
#dbLoadRecords(&quot;$(ADCORE)/db/NDStdArrays.template&quot;, &quot;P=$(PREFIX),R=image1:,PORT=Image1,ADDR=0,TIMEOUT=1,NDARRAY_PORT=$(PORT),TYPE=Int8,FTVL=CHAR,NELEMENTS=$(NELEMENTS)&quot;)
# Use this line for 8-bit or 16-bit data
dbLoadRecords(&quot;$(ADCORE)/db/NDStdArrays.template&quot;, &quot;P=$(PREFIX),R=image1:,PORT=Image1,ADDR=0,TIMEOUT=1,NDARRAY_PORT=$(PORT),TYPE=Int16,FTVL=SHORT,NELEMENTS=$(NELEMENTS)&quot;)

# Load all other plugins using commonPlugins.cmd
&lt; $(ADCORE)/iocBoot/commonPlugins.cmd
set_requestfile_path(&quot;$(ADPOINTGREY)/pointGreyApp/Db&quot;)

iocInit()

# save things every thirty seconds
create_monitor_set(&quot;auto_settings.req&quot;, 30,&quot;P=$(PREFIX)&quot;)

# Wait for enum callbacks to complete
epicsThreadSleep(1.0)

# Records with dynamic enums need to be processed again because the enum values are not available during iocInit.  
dbpf(&quot;$(PREFIX)cam1:Format7Mode.PROC&quot;, &quot;1&quot;)
dbpf(&quot;$(PREFIX)cam1:PixelFormat.PROC&quot;, &quot;1&quot;)

# Wait for callbacks on the property limits (DRVL, DRVH) to complete
epicsThreadSleep(1.0)

# Records that depend on the state of the dynamic enum records or property limits also need to be processed again
# Other property records may need to be added to this list
dbpf(&quot;$(PREFIX)cam1:FrameRate.PROC&quot;, &quot;1&quot;)
dbpf(&quot;$(PREFIX)cam1:FrameRateValAbs.PROC&quot;, &quot;1&quot;)
dbpf(&quot;$(PREFIX)cam1:AcquireTime.PROC&quot;, &quot;1&quot;)

</pre></div>
</div>
</section>
<section id="medm-screens">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">MEDM screens</a><a class="headerlink" href="#medm-screens" title="Link to this heading"></a></h2>
<p>The following show the MEDM screens that are used to control the Point
Grey cameras.</p>
<p><code class="docutils literal notranslate"><span class="pre">pointGrey.adl</span></code> is the main screen used to control Point Grey cameras.</p>
<figure class="align-center">
<img alt="../_images/pointGrey.png" src="../_images/pointGrey.png" />
</figure>
<p><code class="docutils literal notranslate"><span class="pre">pointGreyProperties.adl</span></code> is the screen used to control the properties
of Point Grey cameras. Note that some of these properties, such as
Shutter, FrameRate, and Gain can also be controlled by standard
areaDetector records, like AcquireTime, AcquirePeriod, and Gain. The
widgets on the medm screen are hidden if the corresponding feature is
not available.</p>
<figure class="align-center">
<img alt="../_images/pointGreyProperties_BlackFly.png" src="../_images/pointGreyProperties_BlackFly.png" />
</figure>
<p>pointGreyProperties.adl for a BlackFly GigE color camera in RGB mode</p>
<figure class="align-center">
<img alt="../_images/pointGreyProperties_Grasshopper3.png" src="../_images/pointGreyProperties_Grasshopper3.png" />
</figure>
<p>pointGreyProperties.adl for a Grasshopper3 monochrome camera</p>
<p><code class="docutils literal notranslate"><span class="pre">pointGreyFrameRate.adl</span></code> is the screen used to control the frame rate
in standard video modes. This is a separate screen because the valid
enum strings for the Framerate record can change when the standard video
mode is changed. When that is changed it is necessary to close this
screen and re-open it in order for the new menus to be displayed. This
is a limitation of the EPICS Channel Access which does not send monitor
events for changes in enum fields. Note that the readback of the
FrameRate on the main pointGrey.adl screen can also be incorrect, so it
may be necessary to close and re-open that main screen as well.</p>
<figure class="align-center">
<img alt="../_images/pointGreyFrameRate.png" src="../_images/pointGreyFrameRate.png" />
</figure>
<p><code class="docutils literal notranslate"><span class="pre">pointGreyPixelFormat.adl</span></code> is the screen used to control the pixel
format in Format7 mode. This is a separate screen because the valid enum
strings for the PixelFormat can change when the Format7 mode is changed.
When that is changed it is necessary to close this screen and re-open it
in order for the new menus to be displayed. This is a limitation of the
EPICS Channel Access which does not send monitor events for changes in
enum fields. Note that the readback of the PixelFormat on the main
pointGrey.adl screen can also be incorrect, so it may be necessary to
close and re-open that main screen as well.</p>
<figure class="align-center">
<img alt="../_images/pointGreyPixelFormat.png" src="../_images/pointGreyPixelFormat.png" />
</figure>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../ADPixirad/st_cmd.html" class="btn btn-neutral float-left" title="Example st.cmd Startup File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../ADProsilica/ADProsilica.html" class="btn btn-neutral float-right" title="ADProsilica" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mark Rivers.
      <span class="lastupdated">Last updated on 2025-April-18.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>