

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IDL Viewer &mdash; areaDetector Support</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme_overrides.css?v=254ed751" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ImageJ Channel Access Viewer (EPICS_AD_Viewer.java)" href="ImageJ_EPICS_AD_Viewer.html" />
    <link rel="prev" title="areaDetector Viewers" href="ad_viewers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            areaDetector
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Readme</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../user_guide.html">User Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../ADCore/overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/arch.html">Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/asynPortDriver.html">asynPortDriver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/NDArray.html">NDArray</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detector_drivers.html">Detector Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/plugins.html">areaDetector Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional_plugins.html">Additional plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ADCore/medm.html">MEDM screens</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="ad_viewers.html">areaDetector Viewers</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">IDL Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="ImageJ_EPICS_AD_Viewer.html">ImageJ Channel Access Viewer (EPICS_AD_Viewer.java)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ImageJ_EPICS_NTNDA_Viewer.html">ImageJ pvAccess Viewer (EPICS_NTNDA_Viewer.java)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ImageJ_EPICS_AD_Controller.html">ImageJ Controller (EPICS_AD_Controller.java)</a></li>
<li class="toctree-l3"><a class="reference internal" href="PY_NTNDA_Viewer.html">PY_NTNDA_Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#imagej-viewers">ImageJ Viewers</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#imagej-controller-epics-ad-controller-java">ImageJ Controller (EPICS_AD_Controller.java)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#imagej-gaussian-profiler-gaussianprofiler-java">ImageJ Gaussian Profiler (GaussianProfiler.java)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#python-viewer">Python Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#idl-viewer">IDL Viewer</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#feature-comparison">Feature comparison</a></li>
<li class="toctree-l3"><a class="reference internal" href="ad_viewers.html#performance-comparison">Performance comparison</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../acknowledgements.html">Acknowledgements and licenses</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../install_guide.html">Install Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../release.html">Top-level Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ADCore_release.html">ADCore Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ADSupport_release.html">ADSupport Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doxygen.html">Source Code Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../detectors.html">Supported Detectors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../legacy_versions.html">Legacy Versions</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">areaDetector</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../user_guide.html">areaDetector Users Guide</a></li>
          <li class="breadcrumb-item"><a href="ad_viewers.html">areaDetector Viewers</a></li>
      <li class="breadcrumb-item active">IDL Viewer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/ADViewers/IDL_Viewer.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="idl-viewer">
<h1><a class="toc-backref" href="#id4" role="doc-backlink">IDL Viewer</a><a class="headerlink" href="#idl-viewer" title="Link to this heading"></a></h1>
<dl class="field-list simple">
<dt class="field-odd">author<span class="colon">:</span></dt>
<dd class="field-odd"><p>Mark Rivers</p>
</dd>
<dt class="field-even">affiliation<span class="colon">:</span></dt>
<dd class="field-even"><p>University of Chicago</p>
</dd>
</dl>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#idl-viewer" id="id4">IDL Viewer</a></p></li>
</ul>
</nav>
<p>There is an IDL procedure called
<a class="reference external" href="https://cars.uchicago.edu/software/idl/imaging_routines.html#epics_ad_display">epics_ad_display</a>
that can be used to display 2-dimensional array data that the
<a class="reference internal" href="../ADCore/NDPluginStdArrays.html"><span class="doc">NDPluginStdArrays</span></a> sends to EPICS. This IDL
client is available as source code (which requires an IDL license), and
also as a pre-built IDL .sav file that can be run for free under the IDL
Virtual Machine. This IDL program can run on any machine that IDL runs
on, and that has the ezcaIDL shareable library built for it. This
includes Windows, Linux, Solaris, and Mac. <code class="docutils literal notranslate"><span class="pre">epics_ad_display</span></code> is
included in the <a class="reference external" href="https://cars.uchicago.edu/software/IDL/imaging.html">CARS IDL imaging
software.</a> It is
also available in the Viewers/IDL directory in the areaDetector
application.</p>
<p>The Viewers/IDL directory contains both the IDL source code and a
standalone IDL file, epics_ad_display.sav, for the epics_ad_display GUI
to display images from areaDetector detectors. This file can be run for
free on any Linux or Windows system under the IDL Virtual Machine, which
can be downloaded free of charge from <a class="reference external" href="http://www.ittvis.com/idl">ITT
VIS</a>. That directory also contains the
shareable libraries used to call EPICS Channel Access from IDL
(ezcaIDL.dll for Windows and libezcaIDL.so for Linux). Before using the
IDL source code or .sav file it is necessary to define the environment
variable EZCA_IDL_SHARE to point to the complete path to ezcaIDL.dll or
libezcaIDL.so. For example on Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">setenv</span> <span class="n">EZCA_IDL_SHARE</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">epics</span><span class="o">/</span><span class="n">support</span><span class="o">/</span><span class="n">areaDetector</span><span class="o">/</span><span class="mi">1</span><span class="o">-</span><span class="mi">5</span><span class="o">/</span><span class="n">Viewers</span><span class="o">/</span><span class="n">IDL</span><span class="o">/</span><span class="n">libezcaIDL</span><span class="o">.</span><span class="n">so</span>
</pre></div>
</div>
<p>On Windows use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">My</span> <span class="n">Computer</span><span class="o">/</span><span class="n">Properties</span><span class="o">/</span><span class="n">Advanced</span><span class="o">/</span><span class="n">Environment</span> <span class="n">Variables</span><span class="o">/</span>
</pre></div>
</div>
<p>to add a new environment variable EZCA_IDL_SHARE to point to the
location of ezcaIDL.dll on your system. To run the standalone IDL
epics_ad_display.sav file without an IDL license execute the following
on Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">idl</span> <span class="o">-</span><span class="mi">32</span> <span class="o">-</span><span class="n">vm</span><span class="o">=</span><span class="n">epics_ad_display</span><span class="o">.</span><span class="n">sav</span>
</pre></div>
</div>
<p>On Windows simply double-click on the icon for the epics_ad_display.sav
file.</p>
<p>When the GUI comes up type the base PV name for the NDStdArrays plugin
for your detector in the “Base PV” widget. For example with the
simulation detector supplied with the areaDetector application this is
“13SIM1:image1:” (without the quotes). Once the detector begins
acquiring images they should be displayed in the IDL window.</p>
<p>To run the GUI from the IDL command line on a system with an IDL license
type the epics_ad_display command followed by the base PV name of the
NDStdArrays plugin. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">IDL</span><span class="o">&gt;</span> <span class="n">epics_ad_display</span><span class="p">,</span> <span class="s1">&#39;13SIM1:image1:&#39;</span>
</pre></div>
</div>
<p>The control window for <code class="docutils literal notranslate"><span class="pre">epics_ad_display</span></code> is shown below. It has a
field to input the base name of the EPICS PVs with the image data. It
also has fields to enable/display the IDL display update, to change the
display mode, to autoscale the intensity, and to invert the image in the
Y direction. If autoscale is set to No then manual scaling can be
entered in the Min and Max fields. The number of frames per second
actually being displayed by IDL is shown. There is a status window that
shows whether the EPICS PVs are connected and the time the last was
array received, updated once per second.</p>
<figure class="align-center" id="id1">
<img alt="../_images/IDL_epics_ad_display.png" src="../_images/IDL_epics_ad_display.png" />
<figcaption>
<p><span class="caption-text">Main window for IDL epics_ad_display</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><code class="docutils literal notranslate"><span class="pre">epics_ad_display</span></code> can use the simple IDL routine <code class="docutils literal notranslate"><span class="pre">tv</span></code> to display
the images. This is the fastest mode, and results in a non-scalable
unadorned window.</p>
<figure class="align-center" id="id2">
<img alt="../_images/IDL_epics_ad_display_tv.jpg" src="../_images/IDL_epics_ad_display_tv.jpg" />
<figcaption>
<p><span class="caption-text">IDL epics_ad_display using the IDL <code class="docutils literal notranslate"><span class="pre">tv</span></code> routine.</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p><code class="docutils literal notranslate"><span class="pre">epics_ad_display</span></code> can also use the routine
<a class="reference external" href="https://cars.uchicago.edu/software/IDL/imaging_routines.html#IMAGE_DISPLAY">image_display.pro</a>
to display the images. This routine displays row and column profiles as
the cursor is moved. It allows changing the color lookup tables, and
zooming in (right mouse click) and out (left mouse click). Note that
image_display is not currently capable of displaying color data i.e.,
RGB1, RGB2, or RGB3 NDArrays). It can however, display Mono data in
false color. The following is an example of <code class="docutils literal notranslate"><span class="pre">image_display</span></code> displaying
an image from the simulation detector.</p>
<figure class="align-center" id="id3">
<img alt="../_images/simDetector_image_display1.png" src="../_images/simDetector_image_display1.png" />
<figcaption>
<p><span class="caption-text">epics_ad_display using the image_display routine</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>The Viewers/IDL directory also contains an IDL function
<a class="reference external" href="https://cars.uchicago.edu/software/idl/detector_routines.html#read_nd_netcdf">read_nd_netcdf</a>
to read the areaDetector netCDF files. This is described in the <a class="reference internal" href="../ADCore/NDFileNetCDF.html#ndfilenetcdf"><span class="std std-ref">NDFileNetCDF</span></a>
documentation.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ad_viewers.html" class="btn btn-neutral float-left" title="areaDetector Viewers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ImageJ_EPICS_AD_Viewer.html" class="btn btn-neutral float-right" title="ImageJ Channel Access Viewer (EPICS_AD_Viewer.java)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Mark Rivers.
      <span class="lastupdated">Last updated on 2025-February-19.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>