<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>areaDetector: NDArrayPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">areaDetector
   &#160;<span id="projectnumber">3-13</span>
   </div>
   <div id="projectbrief">EPICS areaDetector framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class_n_d_array_pool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">NDArrayPool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="class_n_d_array_pool.html" title="The NDArrayPool class manages a free list (pool) of NDArray objects.">NDArrayPool</a> class manages a free list (pool) of <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> objects.  
 <a href="class_n_d_array_pool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_n_d_array_8h_source.html">NDArray.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a407b2f4065de9e043a266f42cf2a4dae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a407b2f4065de9e043a266f42cf2a4dae">NDArrayPool</a> (class <a class="el" href="classasyn_n_d_array_driver.html">asynNDArrayDriver</a> *pDriver, size_t maxMemory)</td></tr>
<tr class="memdesc:a407b2f4065de9e043a266f42cf2a4dae"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="class_n_d_array_pool.html" title="The NDArrayPool class manages a free list (pool) of NDArray objects.">NDArrayPool</a> constructor.  <a href="class_n_d_array_pool.html#a407b2f4065de9e043a266f42cf2a4dae">More...</a><br /></td></tr>
<tr class="separator:a407b2f4065de9e043a266f42cf2a4dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aace2bf8820770351af3c408b4a92345b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#aace2bf8820770351af3c408b4a92345b">~NDArrayPool</a> ()</td></tr>
<tr class="separator:aace2bf8820770351af3c408b4a92345b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26b4360694655c4af6c853c2f3d2ce5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a26b4360694655c4af6c853c2f3d2ce5e">alloc</a> (int ndims, size_t *dims, <a class="el" href="_n_d_attribute_8h.html#a34b835bcabc3b7f546f4b25c5767cb16">NDDataType_t</a> <a class="el" href="_a_d_pylon_8cpp.html#a048925b4357a1b4d6015c2113e05ce9f">dataType</a>, size_t dataSize, void *pData)</td></tr>
<tr class="memdesc:a26b4360694655c4af6c853c2f3d2ce5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object; the first 3 arguments are required.  <a href="class_n_d_array_pool.html#a26b4360694655c4af6c853c2f3d2ce5e">More...</a><br /></td></tr>
<tr class="separator:a26b4360694655c4af6c853c2f3d2ce5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90dd764706fddbf69cde2fc498d4af9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a90dd764706fddbf69cde2fc498d4af9e">copy</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pIn, <a class="el" href="class_n_d_array.html">NDArray</a> *pOut, bool copyData, bool copyDimensions=true, bool copyDataType=true)</td></tr>
<tr class="memdesc:a90dd764706fddbf69cde2fc498d4af9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method makes a copy of an <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object.  <a href="class_n_d_array_pool.html#a90dd764706fddbf69cde2fc498d4af9e">More...</a><br /></td></tr>
<tr class="separator:a90dd764706fddbf69cde2fc498d4af9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a232bb59397c1dcaeb7f79f49977b7fca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a232bb59397c1dcaeb7f79f49977b7fca">reserve</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pArray)</td></tr>
<tr class="memdesc:a232bb59397c1dcaeb7f79f49977b7fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method increases the reference count for the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object.  <a href="class_n_d_array_pool.html#a232bb59397c1dcaeb7f79f49977b7fca">More...</a><br /></td></tr>
<tr class="separator:a232bb59397c1dcaeb7f79f49977b7fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c693c97791d2a39a6129e6cf4f72393"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a6c693c97791d2a39a6129e6cf4f72393">release</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pArray)</td></tr>
<tr class="memdesc:a6c693c97791d2a39a6129e6cf4f72393"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method decreases the reference count for the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object.  <a href="class_n_d_array_pool.html#a6c693c97791d2a39a6129e6cf4f72393">More...</a><br /></td></tr>
<tr class="separator:a6c693c97791d2a39a6129e6cf4f72393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade048931af82929ee2d0a33fcc5c5fea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#ade048931af82929ee2d0a33fcc5c5fea">convert</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pIn, <a class="el" href="class_n_d_array.html">NDArray</a> **ppOut, <a class="el" href="_n_d_attribute_8h.html#a34b835bcabc3b7f546f4b25c5767cb16">NDDataType_t</a> dataTypeOut, <a class="el" href="_n_d_array_8h.html#a8c874e905fbe79f7544501ec154954c0">NDDimension_t</a> *outDims)</td></tr>
<tr class="memdesc:ade048931af82929ee2d0a33fcc5c5fea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new output <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> from an input <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a>, performing conversion operations.  <a href="class_n_d_array_pool.html#ade048931af82929ee2d0a33fcc5c5fea">More...</a><br /></td></tr>
<tr class="separator:ade048931af82929ee2d0a33fcc5c5fea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb32abb015e2a77e7a2838a1e77d55c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a7fb32abb015e2a77e7a2838a1e77d55c">convert</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pIn, <a class="el" href="class_n_d_array.html">NDArray</a> **ppOut, <a class="el" href="_n_d_attribute_8h.html#a34b835bcabc3b7f546f4b25c5767cb16">NDDataType_t</a> dataTypeOut)</td></tr>
<tr class="memdesc:a7fb32abb015e2a77e7a2838a1e77d55c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new output <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> from an input <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a>, performing conversion operations.  <a href="class_n_d_array_pool.html#a7fb32abb015e2a77e7a2838a1e77d55c">More...</a><br /></td></tr>
<tr class="separator:a7fb32abb015e2a77e7a2838a1e77d55c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5ad3c3c7dae275cd00e2a0a8261d42"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a3b5ad3c3c7dae275cd00e2a0a8261d42">report</a> (FILE *fp, int details)</td></tr>
<tr class="memdesc:a3b5ad3c3c7dae275cd00e2a0a8261d42"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reports on the free list size and other properties of the <a class="el" href="class_n_d_array_pool.html" title="The NDArrayPool class manages a free list (pool) of NDArray objects.">NDArrayPool</a> object.  <a href="class_n_d_array_pool.html#a3b5ad3c3c7dae275cd00e2a0a8261d42">More...</a><br /></td></tr>
<tr class="separator:a3b5ad3c3c7dae275cd00e2a0a8261d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad521528dc3b6da9efc54a5da50cf64bc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#ad521528dc3b6da9efc54a5da50cf64bc">getNumBuffers</a> ()</td></tr>
<tr class="memdesc:ad521528dc3b6da9efc54a5da50cf64bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of buffers this object has currently allocated.  <a href="class_n_d_array_pool.html#ad521528dc3b6da9efc54a5da50cf64bc">More...</a><br /></td></tr>
<tr class="separator:ad521528dc3b6da9efc54a5da50cf64bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42a4d9076f0edb26ede46b3a3d6f6cb6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a42a4d9076f0edb26ede46b3a3d6f6cb6">getMaxMemory</a> ()</td></tr>
<tr class="memdesc:a42a4d9076f0edb26ede46b3a3d6f6cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns maximum bytes of memory this object is allowed to allocate; 0=unlimited.  <a href="class_n_d_array_pool.html#a42a4d9076f0edb26ede46b3a3d6f6cb6">More...</a><br /></td></tr>
<tr class="separator:a42a4d9076f0edb26ede46b3a3d6f6cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acda1f9b45f518f66e1550d0cddcbded3"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#acda1f9b45f518f66e1550d0cddcbded3">getMemorySize</a> ()</td></tr>
<tr class="memdesc:acda1f9b45f518f66e1550d0cddcbded3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns mumber of bytes of memory this object has currently allocated.  <a href="class_n_d_array_pool.html#acda1f9b45f518f66e1550d0cddcbded3">More...</a><br /></td></tr>
<tr class="separator:acda1f9b45f518f66e1550d0cddcbded3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aeb5485c5952894d44fe738817e2157"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a0aeb5485c5952894d44fe738817e2157">getNumFree</a> ()</td></tr>
<tr class="memdesc:a0aeb5485c5952894d44fe738817e2157"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> objects in the free list.  <a href="class_n_d_array_pool.html#a0aeb5485c5952894d44fe738817e2157">More...</a><br /></td></tr>
<tr class="separator:a0aeb5485c5952894d44fe738817e2157"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291e7945949896cbced71383b9e4472a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a291e7945949896cbced71383b9e4472a">emptyFreeList</a> ()</td></tr>
<tr class="memdesc:a291e7945949896cbced71383b9e4472a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deletes all of the NDArrays in the free list.  <a href="class_n_d_array_pool.html#a291e7945949896cbced71383b9e4472a">More...</a><br /></td></tr>
<tr class="separator:a291e7945949896cbced71383b9e4472a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a111911280690eef4aae1f227169a86b2"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a111911280690eef4aae1f227169a86b2">frameMalloc</a> (size_t size)</td></tr>
<tr class="memdesc:a111911280690eef4aae1f227169a86b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to allocate a frame buffer This method can be overriden in subclasses to use custom memory allocation.  <a href="class_n_d_array_pool.html#a111911280690eef4aae1f227169a86b2">More...</a><br /></td></tr>
<tr class="separator:a111911280690eef4aae1f227169a86b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88075b4a8906b035b1433b63d04a981"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#ab88075b4a8906b035b1433b63d04a981">frameFree</a> (void *ptr)</td></tr>
<tr class="memdesc:ab88075b4a8906b035b1433b63d04a981"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to free a frame buffer This method can be overriden in subclasses to use custom memory deallocation.  <a href="class_n_d_array_pool.html#ab88075b4a8906b035b1433b63d04a981">More...</a><br /></td></tr>
<tr class="separator:ab88075b4a8906b035b1433b63d04a981"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af081017ba2ce24501772517eaa0f43f1"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#af081017ba2ce24501772517eaa0f43f1">setDefaultFrameMemoryFunctions</a> (<a class="el" href="_n_d_array_8h.html#af2603c40a08c8ece79213fe4e2b0301f">MallocFunc_t</a> newMalloc, <a class="el" href="_n_d_array_8h.html#aa2fc1a061fb319b27099bf13ef3799be">FreeFunc_t</a> newFree)</td></tr>
<tr class="memdesc:af081017ba2ce24501772517eaa0f43f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set default frame buffer allocation and deallocation functions.  <a href="class_n_d_array_pool.html#af081017ba2ce24501772517eaa0f43f1">More...</a><br /></td></tr>
<tr class="separator:af081017ba2ce24501772517eaa0f43f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ac7f9c86c15a5a45da9b6d609e782d23b"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#ac7f9c86c15a5a45da9b6d609e782d23b">createArray</a> ()</td></tr>
<tr class="memdesc:ac7f9c86c15a5a45da9b6d609e782d23b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following methods should be implemented by a pool class that manages objects derived from the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class.  <a href="class_n_d_array_pool.html#ac7f9c86c15a5a45da9b6d609e782d23b">More...</a><br /></td></tr>
<tr class="separator:ac7f9c86c15a5a45da9b6d609e782d23b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af524d8046b71d97814e5c4ba2c82ee0d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#af524d8046b71d97814e5c4ba2c82ee0d">onAllocateArray</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pArray)</td></tr>
<tr class="memdesc:af524d8046b71d97814e5c4ba2c82ee0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for pool classes that manage objects derived from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class.  <a href="class_n_d_array_pool.html#af524d8046b71d97814e5c4ba2c82ee0d">More...</a><br /></td></tr>
<tr class="separator:af524d8046b71d97814e5c4ba2c82ee0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10e11c9e1a75667a1ae57b2963fab49c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a10e11c9e1a75667a1ae57b2963fab49c">onReserveArray</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pArray)</td></tr>
<tr class="memdesc:a10e11c9e1a75667a1ae57b2963fab49c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for pool classes that manage objects derived from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class.  <a href="class_n_d_array_pool.html#a10e11c9e1a75667a1ae57b2963fab49c">More...</a><br /></td></tr>
<tr class="separator:a10e11c9e1a75667a1ae57b2963fab49c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e4ed81d209b0b89776f54f51a7fead4"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_n_d_array_pool.html#a9e4ed81d209b0b89776f54f51a7fead4">onReleaseArray</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *pArray)</td></tr>
<tr class="memdesc:a9e4ed81d209b0b89776f54f51a7fead4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Hook for pool classes that manage objects derived from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class.  <a href="class_n_d_array_pool.html#a9e4ed81d209b0b89776f54f51a7fead4">More...</a><br /></td></tr>
<tr class="separator:a9e4ed81d209b0b89776f54f51a7fead4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="class_n_d_array_pool.html" title="The NDArrayPool class manages a free list (pool) of NDArray objects.">NDArrayPool</a> class manages a free list (pool) of <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> objects. </p>
<p>Drivers allocate <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> objects from the pool, and pass these objects to plugins. Plugins increase the reference count on the object when they place the object on their queue, and decrease the reference count when they are done processing the array. When the reference count reaches 0 again the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object is placed back on the free list. This mechanism minimizes the copying of array data in plugins. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a407b2f4065de9e043a266f42cf2a4dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a407b2f4065de9e043a266f42cf2a4dae">&#9670;&nbsp;</a></span>NDArrayPool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NDArrayPool::NDArrayPool </td>
          <td>(</td>
          <td class="paramtype">class <a class="el" href="classasyn_n_d_array_driver.html">asynNDArrayDriver</a> *&#160;</td>
          <td class="paramname"><em>pDriver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxMemory</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="class_n_d_array_pool.html" title="The NDArrayPool class manages a free list (pool) of NDArray objects.">NDArrayPool</a> constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pDriver</td><td>Pointer to the <a class="el" href="classasyn_n_d_array_driver.html" title="This is the class from which NDArray drivers are derived; implements the asynGenericPointer functions...">asynNDArrayDriver</a> that created this object. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxMemory</td><td>Maxiumum number of bytes of memory the the pool is allowed to use, summed over all of the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> objects; 0=unlimited. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aace2bf8820770351af3c408b4a92345b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aace2bf8820770351af3c408b4a92345b">&#9670;&nbsp;</a></span>~NDArrayPool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual NDArrayPool::~NDArrayPool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a26b4360694655c4af6c853c2f3d2ce5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26b4360694655c4af6c853c2f3d2ce5e">&#9670;&nbsp;</a></span>alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_n_d_array.html">NDArray</a> * NDArrayPool::alloc </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>dims</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_d_attribute_8h.html#a34b835bcabc3b7f546f4b25c5767cb16">NDDataType_t</a>&#160;</td>
          <td class="paramname"><em>dataType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dataSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object; the first 3 arguments are required. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ndims</td><td>The number of dimensions in the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dims</td><td>Array of dimensions, whose size must be at least ndims. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataType</td><td>Data type of the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataSize</td><td>Number of bytes to allocate for the array data; if 0 then <a class="el" href="class_n_d_array_pool.html#a26b4360694655c4af6c853c2f3d2ce5e" title="Allocates a new NDArray object; the first 3 arguments are required.">alloc()</a> will compute the size required from ndims, dims, and dataType. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pData</td><td>Pointer to a data buffer; if NULL then alloc will allocate a new array buffer; if not NULL then it is assumed to point to a valid buffer.</td></tr>
  </table>
  </dd>
</dl>
<p>If pData is not NULL then dataSize must contain the actual number of bytes in the existing array, and this array must be large enough to hold the array data. <a class="el" href="class_n_d_array_pool.html#a26b4360694655c4af6c853c2f3d2ce5e" title="Allocates a new NDArray object; the first 3 arguments are required.">alloc()</a> searches its free list to find a free <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> buffer. If is cannot find one then it will allocate a new one and add it to the free list. If allocating the memory required for this <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> would cause the cumulative memory allocated for the pool to exceed maxMemory then an error will be returned. <a class="el" href="class_n_d_array_pool.html#a26b4360694655c4af6c853c2f3d2ce5e" title="Allocates a new NDArray object; the first 3 arguments are required.">alloc()</a> sets the reference count for the returned <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> to 1. </p>

</div>
</div>
<a id="a7fb32abb015e2a77e7a2838a1e77d55c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fb32abb015e2a77e7a2838a1e77d55c">&#9670;&nbsp;</a></span>convert() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::convert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> **&#160;</td>
          <td class="paramname"><em>ppOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_d_attribute_8h.html#a34b835bcabc3b7f546f4b25c5767cb16">NDDataType_t</a>&#160;</td>
          <td class="paramname"><em>dataTypeOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new output <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> from an input <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a>, performing conversion operations. </p>
<p>This form of the function is for changing the data type only, not the dimensions, which are preserved. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pIn</td><td>The input array, source of the conversion. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppOut</td><td>The output array, result of the conversion. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataTypeOut</td><td>The data type of the output array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ade048931af82929ee2d0a33fcc5c5fea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade048931af82929ee2d0a33fcc5c5fea">&#9670;&nbsp;</a></span>convert() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::convert </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> **&#160;</td>
          <td class="paramname"><em>ppOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_d_attribute_8h.html#a34b835bcabc3b7f546f4b25c5767cb16">NDDataType_t</a>&#160;</td>
          <td class="paramname"><em>dataTypeOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_d_array_8h.html#a8c874e905fbe79f7544501ec154954c0">NDDimension_t</a> *&#160;</td>
          <td class="paramname"><em>dimsOut</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new output <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> from an input <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a>, performing conversion operations. </p>
<p>The conversion can change the data type if dataTypeOut is different from pIn-&gt;dataType. It can also change the dimensions. outDims may have different values of size, binning, offset and reverse for each of its dimensions from input array dimensions (pIn-&gt;dims). </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pIn</td><td>The input array, source of the conversion. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">ppOut</td><td>The output array, result of the conversion. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dataTypeOut</td><td>The data type of the output array. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dimsOut</td><td>The dimensions of the output array. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a90dd764706fddbf69cde2fc498d4af9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90dd764706fddbf69cde2fc498d4af9e">&#9670;&nbsp;</a></span>copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_n_d_array.html">NDArray</a> * NDArrayPool::copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pIn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copyData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copyDimensions</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copyDataType</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method makes a copy of an <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pIn</td><td>The input array to be copied. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pOut</td><td>The output array that will be copied to; can be NULL or a pointer to an existing <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">copyData</td><td>If this flag is true then everything including the array data is copied; if 0 then everything except the data (including attributes) is copied. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">copyDimensions</td><td>If this flag is true then the dimensions are copied even if pOut is not NULL; default=true. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">copyDataType</td><td>If this flag is true then the dataType is copied even if pOut is not NULL; default=true. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the output array.</dd></dl>
<p>If pOut is NULL then it is first allocated. If the output array object already exists (pOut!=NULL) then it must have sufficient memory allocated to it to hold the data. </p>

</div>
</div>
<a id="ac7f9c86c15a5a45da9b6d609e782d23b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f9c86c15a5a45da9b6d609e782d23b">&#9670;&nbsp;</a></span>createArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_n_d_array.html">NDArray</a> * NDArrayPool::createArray </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The following methods should be implemented by a pool class that manages objects derived from the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class. </p>
<p>Create new <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object.</p>
<p>This method should be overriden by a pool class that manages objects that derive from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class. </p>

</div>
</div>
<a id="a291e7945949896cbced71383b9e4472a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291e7945949896cbced71383b9e4472a">&#9670;&nbsp;</a></span>emptyFreeList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NDArrayPool::emptyFreeList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deletes all of the NDArrays in the free list. </p>

</div>
</div>
<a id="ab88075b4a8906b035b1433b63d04a981"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88075b4a8906b035b1433b63d04a981">&#9670;&nbsp;</a></span>frameFree()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NDArrayPool::frameFree </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to free a frame buffer This method can be overriden in subclasses to use custom memory deallocation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ptr</td><td>Pointer to memory that will be deallocated </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a111911280690eef4aae1f227169a86b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a111911280690eef4aae1f227169a86b2">&#9670;&nbsp;</a></span>frameMalloc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void * NDArrayPool::frameMalloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to allocate a frame buffer This method can be overriden in subclasses to use custom memory allocation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>Required buffer size Returns pointer to buffer of size specified </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a42a4d9076f0edb26ede46b3a3d6f6cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42a4d9076f0edb26ede46b3a3d6f6cb6">&#9670;&nbsp;</a></span>getMaxMemory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t NDArrayPool::getMaxMemory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns maximum bytes of memory this object is allowed to allocate; 0=unlimited. </p>

</div>
</div>
<a id="acda1f9b45f518f66e1550d0cddcbded3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acda1f9b45f518f66e1550d0cddcbded3">&#9670;&nbsp;</a></span>getMemorySize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t NDArrayPool::getMemorySize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns mumber of bytes of memory this object has currently allocated. </p>

</div>
</div>
<a id="ad521528dc3b6da9efc54a5da50cf64bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad521528dc3b6da9efc54a5da50cf64bc">&#9670;&nbsp;</a></span>getNumBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::getNumBuffers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of buffers this object has currently allocated. </p>

</div>
</div>
<a id="a0aeb5485c5952894d44fe738817e2157"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aeb5485c5952894d44fe738817e2157">&#9670;&nbsp;</a></span>getNumFree()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::getNumFree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns number of <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> objects in the free list. </p>

</div>
</div>
<a id="af524d8046b71d97814e5c4ba2c82ee0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af524d8046b71d97814e5c4ba2c82ee0d">&#9670;&nbsp;</a></span>onAllocateArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NDArrayPool::onAllocateArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for pool classes that manage objects derived from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class. </p>
<p>This hook is called after new array has been allocated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArray</td><td>Pointer to the allocated <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e4ed81d209b0b89776f54f51a7fead4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e4ed81d209b0b89776f54f51a7fead4">&#9670;&nbsp;</a></span>onReleaseArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NDArrayPool::onReleaseArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for pool classes that manage objects derived from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class. </p>
<p>This hook is called after array has been released. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArray</td><td>Pointer to the released <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a10e11c9e1a75667a1ae57b2963fab49c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10e11c9e1a75667a1ae57b2963fab49c">&#9670;&nbsp;</a></span>onReserveArray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NDArrayPool::onReserveArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Hook for pool classes that manage objects derived from <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> class. </p>
<p>This hook is called after array has been reserved. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArray</td><td>Pointer to the reserved <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6c693c97791d2a39a6129e6cf4f72393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c693c97791d2a39a6129e6cf4f72393">&#9670;&nbsp;</a></span>release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method decreases the reference count for the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArray</td><td>The array on which to decrease the reference count.</td></tr>
  </table>
  </dd>
</dl>
<p>When the reference count reaches 0 the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> is placed back in the free list. Plugins must call <a class="el" href="class_n_d_array_pool.html#a6c693c97791d2a39a6129e6cf4f72393" title="This method decreases the reference count for the NDArray object.">release()</a> when an <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> is removed from the queue and processing on it is complete. Drivers must call <a class="el" href="class_n_d_array_pool.html#a6c693c97791d2a39a6129e6cf4f72393" title="This method decreases the reference count for the NDArray object.">release()</a> after calling all plugins. </p>

</div>
</div>
<a id="a3b5ad3c3c7dae275cd00e2a0a8261d42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5ad3c3c7dae275cd00e2a0a8261d42">&#9670;&nbsp;</a></span>report()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::report </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>details</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reports on the free list size and other properties of the <a class="el" href="class_n_d_array_pool.html" title="The NDArrayPool class manages a free list (pool) of NDArray objects.">NDArrayPool</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fp</td><td>File pointer for the report output. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">details</td><td>Level of report details desired; does nothing at present. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a232bb59397c1dcaeb7f79f49977b7fca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a232bb59397c1dcaeb7f79f49977b7fca">&#9670;&nbsp;</a></span>reserve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDArrayPool::reserve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>pArray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This method increases the reference count for the <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pArray</td><td>The array on which to increase the reference count.</td></tr>
  </table>
  </dd>
</dl>
<p>Plugins must call <a class="el" href="class_n_d_array_pool.html#a232bb59397c1dcaeb7f79f49977b7fca" title="This method increases the reference count for the NDArray object.">reserve()</a> when an <a class="el" href="class_n_d_array.html" title="N-dimensional array class; each array has a set of dimensions, a data type, pointer to data,...">NDArray</a> is placed on a queue for later processing. </p>

</div>
</div>
<a id="af081017ba2ce24501772517eaa0f43f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af081017ba2ce24501772517eaa0f43f1">&#9670;&nbsp;</a></span>setDefaultFrameMemoryFunctions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void NDArrayPool::setDefaultFrameMemoryFunctions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_n_d_array_8h.html#af2603c40a08c8ece79213fe4e2b0301f">MallocFunc_t</a>&#160;</td>
          <td class="paramname"><em>newMalloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_d_array_8h.html#aa2fc1a061fb319b27099bf13ef3799be">FreeFunc_t</a>&#160;</td>
          <td class="paramname"><em>newFree</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set default frame buffer allocation and deallocation functions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">newMalloc</td><td>Pointer to a function that will be used by default to allocate a frame buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newFree</td><td>Pointer to a function that will be used by default to deallocate a frame buffer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/runner/work/areaDetector/areaDetector/ADCore/ADApp/ADSrc/<a class="el" href="_n_d_array_8h_source.html">NDArray.h</a></li>
<li>/home/runner/work/areaDetector/areaDetector/ADCore/ADApp/ADSrc/<a class="el" href="_n_d_array_pool_8cpp.html">NDArrayPool.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
